(self.webpackChunkmy_budget_angular=self.webpackChunkmy_budget_angular||[]).push([[179],{287:(ht,Ze,we)=>{"use strict";function q(e){return"function"==typeof e}function Qe(e){const t=e(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const be=Qe(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function qn(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class Q{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(q(r))try{r()}catch(o){n=o instanceof be?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{Co(o)}catch(s){n=n??[],s instanceof be?n=[...n,...s.errors]:n.push(s)}}if(n)throw new be(n)}}add(n){var t;if(n&&n!==this)if(this.closed)Co(n);else{if(n instanceof Q){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&qn(t,n)}remove(n){const{_finalizers:t}=this;t&&qn(t,n),n instanceof Q&&n._removeParent(this)}}Q.EMPTY=(()=>{const e=new Q;return e.closed=!0,e})();const Oe=Q.EMPTY;function Tn(e){return e instanceof Q||e&&"closed"in e&&q(e.remove)&&q(e.add)&&q(e.unsubscribe)}function Co(e){q(e)?e():e.unsubscribe()}const rn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},$t={setTimeout(e,n,...t){const{delegate:r}=$t;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=$t;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function hi(e){$t.setTimeout(()=>{const{onUnhandledError:n}=rn;if(!n)throw e;n(e)})}function pr(){}const Ee=gi("C",void 0,void 0);function gi(e,n,t){return{kind:e,value:n,error:t}}let on=null;function gr(e){if(rn.useDeprecatedSynchronousErrorHandling){const n=!on;if(n&&(on={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:r}=on;if(on=null,t)throw r}}else e()}class mr extends Q{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Tn(n)&&n.add(this)):this.destination=_i}static create(n,t,r){return new Kn(n,t,r)}next(n){this.isStopped?yi(function So(e){return gi("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?yi(function pi(e){return gi("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?yi(Ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ba=Function.prototype.bind;function mi(e,n){return ba.call(e,n)}class sn{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){yr(r)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){yr(r)}else yr(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){yr(t)}}}class Kn extends mr{constructor(n,t,r){let i;if(super(),q(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&rn.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&mi(n.next,o),error:n.error&&mi(n.error,o),complete:n.complete&&mi(n.complete,o)}):i=n}this.destination=new sn(i)}}function yr(e){rn.useDeprecatedSynchronousErrorHandling?function Io(e){rn.useDeprecatedSynchronousErrorHandling&&on&&(on.errorThrown=!0,on.error=e)}(e):hi(e)}function yi(e,n){const{onStoppedNotification:t}=rn;t&&$t.setTimeout(()=>t(e,n))}const _i={closed:!0,next:pr,error:function wt(e){throw e},complete:pr},m="function"==typeof Symbol&&Symbol.observable||"@@observable";function E(e){return e}let Y=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function Yn(e){return e&&e instanceof mr||function _r(e){return e&&q(e.next)&&q(e.error)&&q(e.complete)}(e)&&Tn(e)}(t)?t:new Kn(t,r,i);return gr(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=te(r))((i,o)=>{const s=new Kn({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[m](){return this}pipe(...t){return function Fe(e){return 0===e.length?E:1===e.length?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=te(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=n=>new e(n),e})();function te(e){var n;return null!==(n=e??rn.Promise)&&void 0!==n?n:Promise}const vi=Qe(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ea=(()=>{class e extends Y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new fd(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new vi}next(t){gr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){gr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){gr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?Oe:(this.currentObservers=null,o.push(t),new Q(()=>{this.currentObservers=null,qn(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new Y;return t.source=this,t}}return e.create=(n,t)=>new fd(n,t),e})();class fd extends Ea{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,n)}error(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==r?r:Oe}}function Di(e){return n=>{if(function Vv(e){return q(e?.lift)}(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function wi(e,n,t,r,i){return new jv(e,n,t,r,i)}class jv extends mr{constructor(n,t,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){n.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function Ca(e,n){return Di((t,r)=>{let i=0;t.subscribe(wi(r,o=>{r.next(e.call(n,o,i++))}))})}function An(e){return this instanceof An?(this.v=e,this):new An(e)}function md(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function Ta(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}(a,l,(s=e[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const yd=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function _d(e){return q(e?.then)}function vd(e){return q(e[m])}function Dd(e){return Symbol.asyncIterator&&q(e?.[Symbol.asyncIterator])}function wd(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const bd=function aD(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ed(e){return q(e?.[bd])}function Cd(e){return function gd(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(e,n||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){r[f]&&(i[f]=function(h){return new Promise(function(p,g){o.push([f,h,p,g])>1||a(f,h)})})}function a(f,h){try{!function l(f){f.value instanceof An?Promise.resolve(f.value.v).then(u,c):d(o[0][2],f)}(r[f](h))}catch(p){d(o[0][3],p)}}function u(f){a("next",f)}function c(f){a("throw",f)}function d(f,h){f(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:r,done:i}=yield An(t.read());if(i)return yield An(void 0);yield yield An(r)}}finally{t.releaseLock()}})}function Sd(e){return q(e?.getReader)}function an(e){if(e instanceof Y)return e;if(null!=e){if(vd(e))return function lD(e){return new Y(n=>{const t=e[m]();if(q(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(yd(e))return function uD(e){return new Y(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(_d(e))return function cD(e){return new Y(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,hi)})}(e);if(Dd(e))return Id(e);if(Ed(e))return function dD(e){return new Y(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(Sd(e))return function fD(e){return Id(Cd(e))}(e)}throw wd(e)}function Id(e){return new Y(n=>{(function hD(e,n){var t,r,i,o;return function hd(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,l)}u((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=md(e);!(r=yield t.next()).done;)if(n.next(r.value),n.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function xn(e,n,t,r=0,i=!1){const o=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Md(e,n,t=1/0){return q(n)?Md((r,i)=>Ca((o,s)=>n(r,o,i,s))(an(e(r,i))),t):("number"==typeof n&&(t=n),Di((r,i)=>function pD(e,n,t,r,i,o,s,a){const l=[];let u=0,c=0,d=!1;const f=()=>{d&&!l.length&&!u&&n.complete()},h=g=>u<r?p(g):l.push(g),p=g=>{o&&n.next(g),u++;let y=!1;an(t(g,c++)).subscribe(wi(n,v=>{i?.(v),o?h(v):n.next(v)},()=>{y=!0},void 0,()=>{if(y)try{for(u--;l.length&&u<r;){const v=l.shift();s?xn(n,s,()=>p(v)):p(v)}f()}catch(v){n.error(v)}}))};return e.subscribe(wi(n,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,e,t)))}const Td=new Y(e=>e.complete());function Aa(e){return e[e.length-1]}function Ad(e,n=0){return Di((t,r)=>{t.subscribe(wi(r,i=>xn(r,e,()=>r.next(i),n),()=>xn(r,e,()=>r.complete(),n),i=>xn(r,e,()=>r.error(i),n)))})}function xd(e,n=0){return Di((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function Nd(e,n){if(!e)throw new Error("Iterable cannot be null");return new Y(t=>{xn(t,n,()=>{const r=e[Symbol.asyncIterator]();xn(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Od(e,n){return n?function ID(e,n){if(null!=e){if(vd(e))return function wD(e,n){return an(e).pipe(xd(n),Ad(n))}(e,n);if(yd(e))return function ED(e,n){return new Y(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if(_d(e))return function bD(e,n){return an(e).pipe(xd(n),Ad(n))}(e,n);if(Dd(e))return Nd(e,n);if(Ed(e))return function CD(e,n){return new Y(t=>{let r;return xn(t,n,()=>{r=e[bd](),xn(t,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>q(r?.return)&&r.return()})}(e,n);if(Sd(e))return function SD(e,n){return Nd(Cd(e),n)}(e,n)}throw wd(e)}(e,n):an(e)}function MD(...e){const n=function vD(e){return function yD(e){return e&&q(e.schedule)}(Aa(e))?e.pop():void 0}(e),t=function DD(e,n){return"number"==typeof Aa(e)?e.pop():n}(e,1/0),r=e;return r.length?1===r.length?an(r[0]):function gD(e=1/0){return Md(E,e)}(t)(Od(r,n)):Td}function xa(e,n,...t){if(!0===n)return void e();if(!1===n)return;const r=new Kn({next:()=>{r.unsubscribe(),e()}});return an(n(...t)).subscribe(r)}function ae(e){for(let n in e)if(e[n]===ae)return n;throw Error("Could not find renamed property on target object.")}function Na(e,n){for(const t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function ce(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ce).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function Oa(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const AD=ae({__forward_ref__:ae});function de(e){return e.__forward_ref__=de,e.toString=function(){return ce(this())},e}function N(e){return Fa(e)?e():e}function Fa(e){return"function"==typeof e&&e.hasOwnProperty(AD)&&e.__forward_ref__===de}function Pa(e){return e&&!!e.\u0275providers}class C extends Error{constructor(n,t){super(Mo(n,t)),this.code=n}}function Mo(e,n){return`NG0${Math.abs(e)}${n?": "+n.trim():""}`}function k(e){return"string"==typeof e?e:null==e?"":String(e)}function To(e,n){throw new C(-201,!1)}function bt(e,n){null==e&&function re(e,n,t,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${t} ${r} ${n} <=Actual]`))}(n,e,null,"!=")}function le(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ht(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ao(e){return Pd(e,xo)||Pd(e,kd)}function Pd(e,n){return e.hasOwnProperty(n)?e[n]:null}function Rd(e){return e&&(e.hasOwnProperty(Ra)||e.hasOwnProperty(kD))?e[Ra]:null}const xo=ae({\u0275prov:ae}),Ra=ae({\u0275inj:ae}),kd=ae({ngInjectableDef:ae}),kD=ae({ngInjectorDef:ae});var P=(()=>((P=P||{})[P.Default=0]="Default",P[P.Host=1]="Host",P[P.Self=2]="Self",P[P.SkipSelf=4]="SkipSelf",P[P.Optional=8]="Optional",P))();let ka;function Et(e){const n=ka;return ka=e,n}function Ld(e,n,t){const r=Ao(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&P.Optional?null:void 0!==n?n:void To(ce(e))}const he=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),bi={},La="__NG_DI_FLAG__",No="ngTempTokenPath",VD="ngTokenPath",jD=/\n/gm,BD="\u0275",Vd="__source";let Ei;function vr(e){const n=Ei;return Ei=e,n}function $D(e,n=P.Default){if(void 0===Ei)throw new C(-203,!1);return null===Ei?Ld(e,void 0,n):Ei.get(e,n&P.Optional?null:void 0,n)}function J(e,n=P.Default){return(function LD(){return ka}()||$D)(N(e),n)}function Oo(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Va(e){const n=[];for(let t=0;t<e.length;t++){const r=N(e[t]);if(Array.isArray(r)){if(0===r.length)throw new C(900,!1);let i,o=P.Default;for(let s=0;s<r.length;s++){const a=r[s],l=HD(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}n.push(J(i,o))}else n.push(J(r))}return n}function Ci(e,n){return e[La]=n,e.prototype[La]=n,e}function HD(e){return e[La]}function ln(e){return{toString:e}.toString()}var Ut=(()=>((Ut=Ut||{})[Ut.OnPush=0]="OnPush",Ut[Ut.Default=1]="Default",Ut))(),Gt=(()=>{return(e=Gt||(Gt={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Gt;var e})();const un={},X=[],Fo=ae({\u0275cmp:ae}),ja=ae({\u0275dir:ae}),Ba=ae({\u0275pipe:ae}),$d=ae({\u0275mod:ae}),cn=ae({\u0275fac:ae}),Si=ae({__NG_ELEMENT_ID__:ae});let zD=0;function Po(e){return ln(()=>{const n=Ud(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Ut.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,data:e.data||{},encapsulation:e.encapsulation||Gt.Emulated,id:"c"+zD++,styles:e.styles||X,_:null,schemas:e.schemas||null,tView:null};Gd(t);const r=e.dependencies;return t.directiveDefs=Ro(r,!1),t.pipeDefs=Ro(r,!0),t})}function qD(e){return ie(e)||je(e)}function KD(e){return null!==e}function dn(e){return ln(()=>({type:e.type,bootstrap:e.bootstrap||X,declarations:e.declarations||X,imports:e.imports||X,exports:e.exports||X,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Hd(e,n){if(null==e)return un;const t={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,n&&(n[i]=o)}return t}function L(e){return ln(()=>{const n=Ud(e);return Gd(n),n})}function it(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function ie(e){return e[Fo]||null}function je(e){return e[ja]||null}function ot(e){return e[Ba]||null}function Ud(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,exportAs:e.exportAs||null,standalone:!0===e.standalone,selectors:e.selectors||X,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Hd(e.inputs,n),outputs:Hd(e.outputs)}}function Gd(e){e.features?.forEach(n=>n(e))}function Ro(e,n){if(!e)return null;const t=n?ot:qD;return()=>("function"==typeof e?e():e).map(r=>t(r)).filter(KD)}const fn=0,M=1,B=2,ve=3,Nt=4,Zn=5,Be=6,Dr=7,Ce=8,ko=9,Lo=10,H=11,$a=12,Mi=13,zd=14,wr=15,$e=16,Ti=17,br=18,zt=19,Ai=20,Wd=21,pe=22,Ha=1,qd=2,Vo=7,jo=8,Er=9,Je=10;function mt(e){return Array.isArray(e)&&"object"==typeof e[Ha]}function Ot(e){return Array.isArray(e)&&!0===e[Ha]}function Ua(e){return 0!=(4&e.flags)}function xi(e){return e.componentOffset>-1}function Bo(e){return 1==(1&e.flags)}function Ft(e){return!!e.template}function ZD(e){return 0!=(256&e[B])}function Qn(e,n){return e.hasOwnProperty(cn)?e[cn]:null}class XD{constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function hn(){return Zd}function Zd(e){return e.type.prototype.ngOnChanges&&(e.setInput=tw),ew}function ew(){const e=Jd(this),n=e?.current;if(n){const t=e.previous;if(t===un)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function tw(e,n,t,r){const i=this.declaredInputs[t],o=Jd(e)||function nw(e,n){return e[Qd]=n}(e,{previous:un,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[i];s[i]=new XD(l&&l.currentValue,n,a===un),e[r]=n}hn.ngInherit=!0;const Qd="__ngSimpleChanges__";function Jd(e){return e[Qd]||null}const Ct=function(e,n,t){};function Le(e){for(;Array.isArray(e);)e=e[fn];return e}function $o(e,n){return Le(n[e])}function yt(e,n){return Le(n[e.index])}function tf(e,n){return e.data[n]}function Cr(e,n){return e[n]}function st(e,n){const t=n[e];return mt(t)?t:t[fn]}function Ho(e){return 64==(64&e[B])}function On(e,n){return null==n?null:e[n]}function nf(e){e[br]=0}function za(e,n){e[Zn]+=n;let t=e,r=e[ve];for(;null!==r&&(1===n&&1===t[Zn]||-1===n&&0===t[Zn]);)r[Zn]+=n,t=r,r=r[ve]}const V={lFrame:hf(null),bindingsEnabled:!0};function of(){return V.bindingsEnabled}function D(){return V.lFrame.lView}function K(){return V.lFrame.tView}function Wt(e){return V.lFrame.contextLView=e,e[Ce]}function qt(e){return V.lFrame.contextLView=null,e}function Ve(){let e=sf();for(;null!==e&&64===e.type;)e=e.parent;return e}function sf(){return V.lFrame.currentTNode}function Kt(e,n){const t=V.lFrame;t.currentTNode=e,t.isParent=n}function Wa(){return V.lFrame.isParent}function Xe(){const e=V.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function Sr(){return V.lFrame.bindingIndex++}function gn(e){const n=V.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function gw(e,n){const t=V.lFrame;t.bindingIndex=t.bindingRootIndex=e,Ka(n)}function Ka(e){V.lFrame.currentDirectiveIndex=e}function Za(e){V.lFrame.currentQueryIndex=e}function yw(e){const n=e[M];return 2===n.type?n.declTNode:1===n.type?e[Be]:null}function df(e,n,t){if(t&P.SkipSelf){let i=n,o=e;for(;!(i=i.parent,null!==i||t&P.Host||(i=yw(o),null===i||(o=o[wr],10&i.type))););if(null===i)return!1;n=i,e=o}const r=V.lFrame=ff();return r.currentTNode=n,r.lView=e,!0}function Qa(e){const n=ff(),t=e[M];V.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function ff(){const e=V.lFrame,n=null===e?null:e.child;return null===n?hf(e):n}function hf(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function pf(){const e=V.lFrame;return V.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const gf=pf;function Ja(){const e=pf();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function et(){return V.lFrame.selectedIndex}function Jn(e){V.lFrame.selectedIndex=e}function Uo(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){const o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=o;s&&(e.contentHooks??(e.contentHooks=[])).push(-t,s),a&&((e.contentHooks??(e.contentHooks=[])).push(t,a),(e.contentCheckHooks??(e.contentCheckHooks=[])).push(t,a)),l&&(e.viewHooks??(e.viewHooks=[])).push(-t,l),u&&((e.viewHooks??(e.viewHooks=[])).push(t,u),(e.viewCheckHooks??(e.viewCheckHooks=[])).push(t,u)),null!=c&&(e.destroyHooks??(e.destroyHooks=[])).push(t,c)}}function Go(e,n,t){mf(e,n,3,t)}function zo(e,n,t,r){(3&e[B])===t&&mf(e,n,t,r)}function Xa(e,n){let t=e[B];(3&t)===n&&(t&=2047,t+=1,e[B]=t)}function mf(e,n,t,r){const o=r??-1,s=n.length-1;let a=0;for(let l=void 0!==r?65535&e[br]:0;l<s;l++)if("number"==typeof n[l+1]){if(a=n[l],null!=r&&a>=r)break}else n[l]<0&&(e[br]+=65536),(a<o||-1==o)&&(Iw(e,t,n,l),e[br]=(4294901760&e[br])+l+2),l++}function Iw(e,n,t,r){const i=t[r]<0,o=t[r+1],a=e[i?-t[r]:t[r]];if(i){if(e[B]>>11<e[br]>>16&&(3&e[B])===n){e[B]+=2048,Ct(4,a,o);try{o.call(a)}finally{Ct(5,a,o)}}}else{Ct(4,a,o);try{o.call(a)}finally{Ct(5,a,o)}}}const Ir=-1;class Oi{constructor(n,t,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function tl(e,n,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,o)}else{const o=i,s=t[++r];_f(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),r++}}return r}function yf(e){return 3===e||4===e||6===e}function _f(e){return 64===e.charCodeAt(0)}function Fi(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?t=i:0===t||vf(e,t,i,null,-1===t||2===t?n[++r]:null)}}return e}function vf(e,n,t,r,i){let o=0,s=e.length;if(-1===n)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===n){s=-1;break}if(a>n){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function Df(e){return e!==Ir}function Wo(e){return 32767&e}function qo(e,n){let t=function xw(e){return e>>16}(e),r=n;for(;t>0;)r=r[wr],t--;return r}let nl=!0;function Ko(e){const n=nl;return nl=e,n}const wf=255,bf=5;let Nw=0;const Yt={};function Yo(e,n){const t=Ef(e,n);if(-1!==t)return t;const r=n[M];r.firstCreatePass&&(e.injectorIndex=n.length,rl(r.data,e),rl(n,null),rl(r.blueprint,null));const i=il(e,n),o=e.injectorIndex;if(Df(i)){const s=Wo(i),a=qo(i,n),l=a[M].data;for(let u=0;u<8;u++)n[o+u]=a[s+u]|l[s+u]}return n[o+8]=i,o}function rl(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Ef(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function il(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;null!==i;){if(r=xf(i),null===r)return Ir;if(t++,i=i[wr],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Ir}function ol(e,n,t){!function Ow(e,n,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Si)&&(r=t[Si]),null==r&&(r=t[Si]=Nw++);const i=r&wf;n.data[e+(i>>bf)]|=1<<i}(e,n,t)}function Cf(e,n,t){if(t&P.Optional||void 0!==e)return e;To()}function Sf(e,n,t,r){if(t&P.Optional&&void 0===r&&(r=null),!(t&(P.Self|P.Host))){const i=e[ko],o=Et(void 0);try{return i?i.get(n,r,t&P.Optional):Ld(n,r,t&P.Optional)}finally{Et(o)}}return Cf(r,0,t)}function If(e,n,t,r=P.Default,i){if(null!==e){if(1024&n[B]){const s=function Lw(e,n,t,r,i){let o=e,s=n;for(;null!==o&&null!==s&&1024&s[B]&&!(256&s[B]);){const a=Mf(o,s,t,r|P.Self,Yt);if(a!==Yt)return a;let l=o.parent;if(!l){const u=s[Wd];if(u){const c=u.get(t,Yt,r);if(c!==Yt)return c}l=xf(s),s=s[wr]}o=l}return i}(e,n,t,r,Yt);if(s!==Yt)return s}const o=Mf(e,n,t,r,Yt);if(o!==Yt)return o}return Sf(n,t,r,i)}function Mf(e,n,t,r,i){const o=function Rw(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Si)?e[Si]:void 0;return"number"==typeof n?n>=0?n&wf:kw:n}(t);if("function"==typeof o){if(!df(n,e,r))return r&P.Host?Cf(i,0,r):Sf(n,t,r,i);try{const s=o(r);if(null!=s||r&P.Optional)return s;To()}finally{gf()}}else if("number"==typeof o){let s=null,a=Ef(e,n),l=Ir,u=r&P.Host?n[$e][Be]:null;for((-1===a||r&P.SkipSelf)&&(l=-1===a?il(e,n):n[a+8],l!==Ir&&Af(r,!1)?(s=n[M],a=Wo(l),n=qo(l,n)):a=-1);-1!==a;){const c=n[M];if(Tf(o,a,c.data)){const d=Pw(a,n,t,s,r,u);if(d!==Yt)return d}l=n[a+8],l!==Ir&&Af(r,n[M].data[a+8]===u)&&Tf(o,a,n)?(s=c,a=Wo(l),n=qo(l,n)):a=-1}}return i}function Pw(e,n,t,r,i,o){const s=n[M],a=s.data[e+8],c=function Zo(e,n,t,r,i){const o=e.providerIndexes,s=n.data,a=1048575&o,l=e.directiveStart,c=o>>20,f=i?a+c:e.directiveEnd;for(let h=r?a:a+c;h<f;h++){const p=s[h];if(h<l&&t===p||h>=l&&p.type===t)return h}if(i){const h=s[l];if(h&&Ft(h)&&h.type===t)return l}return null}(a,s,t,null==r?xi(a)&&nl:r!=s&&0!=(3&a.type),i&P.Host&&o===a);return null!==c?Xn(n,s,c,a):Yt}function Xn(e,n,t,r){let i=e[t];const o=n.data;if(function Mw(e){return e instanceof Oi}(i)){const s=i;s.resolving&&function xD(e,n){const t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new C(-200,`Circular dependency in DI detected for ${e}${t}`)}(function ne(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():k(e)}(o[t]));const a=Ko(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Et(s.injectImpl):null;df(e,r,P.Default);try{i=e[t]=s.factory(void 0,o,e,r),n.firstCreatePass&&t>=r.directiveStart&&function Sw(e,n,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){const s=Zd(n);(t.preOrderHooks??(t.preOrderHooks=[])).push(e,s),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(e,s)}i&&(t.preOrderHooks??(t.preOrderHooks=[])).push(0-e,i),o&&((t.preOrderHooks??(t.preOrderHooks=[])).push(e,o),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(e,o))}(t,o[t],n)}finally{null!==l&&Et(l),Ko(a),s.resolving=!1,gf()}}return i}function Tf(e,n,t){return!!(t[n+(e>>bf)]&1<<e)}function Af(e,n){return!(e&P.Self||e&P.Host&&n)}class Mr{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return If(this._tNode,this._lView,n,Oo(r),t)}}function kw(){return new Mr(Ve(),D())}function He(e){return ln(()=>{const n=e.prototype.constructor,t=n[cn]||sl(n),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[cn]||sl(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function sl(e){return Fa(e)?()=>{const n=sl(N(e));return n&&n()}:Qn(e)}function xf(e){const n=e[M],t=n.type;return 2===t?n.declTNode:1===t?e[Be]:null}const Ar="__parameters__";function Nr(e,n,t){return ln(()=>{const r=function ll(e){return function(...t){if(e){const r=e(...t);for(const i in r)this[i]=r[i]}}}(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,u,c){const d=l.hasOwnProperty(Ar)?l[Ar]:Object.defineProperty(l,Ar,{value:[]})[Ar];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(s),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class R{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=le({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function er(e,n){e.forEach(t=>Array.isArray(t)?er(t,n):n(t))}function Of(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Qo(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function _t(e,n,t){let r=Or(e,n);return r>=0?e[1|r]=t:(r=~r,function $w(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(1===i)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;)e[i]=e[i-2],i--;e[n]=t,e[n+1]=r}}(e,r,n,t)),r}function cl(e,n){const t=Or(e,n);if(t>=0)return e[1|t]}function Or(e,n){return function Ff(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<t];if(n===s)return o<<t;s>n?i=o:r=o+1}return~(i<<t)}(e,n,1)}const Xo=Ci(Nr("Optional"),8),es=Ci(Nr("SkipSelf"),4);var at=(()=>((at=at||{})[at.Important=1]="Important",at[at.DashCase=2]="DashCase",at))();const ml=new Map;let ub=0;const _l="__ngContext__";function Ue(e,n){mt(n)?(e[_l]=n[Ai],function db(e){ml.set(e[Ai],e)}(n)):e[_l]=n}let vl;function Dl(e,n){return vl(e,n)}function Bi(e){const n=e[ve];return Ot(n)?n[ve]:n}function wl(e){return Xf(e[Mi])}function bl(e){return Xf(e[Nt])}function Xf(e){for(;null!==e&&!Ot(e);)e=e[Nt];return e}function Pr(e,n,t,r,i){if(null!=r){let o,s=!1;Ot(r)?o=r:mt(r)&&(s=!0,r=r[fn]);const a=Le(r);0===e&&null!==t?null==i?oh(n,t,a):tr(n,t,a,i||null,!0):1===e&&null!==t?tr(n,t,a,i||null,!0):2===e?function Al(e,n,t){const r=rs(e,n);r&&function Nb(e,n,t,r){e.removeChild(n,t,r)}(e,r,n,t)}(n,a,s):3===e&&n.destroyNode(a),null!=o&&function Pb(e,n,t,r,i){const o=t[Vo];o!==Le(t)&&Pr(n,e,r,o,i);for(let a=Je;a<t.length;a++){const l=t[a];$i(l[M],l,e,n,r,o)}}(n,e,o,t,i)}}function Cl(e,n,t){return e.createElement(n,t)}function th(e,n){const t=e[Er],r=t.indexOf(n),i=n[ve];512&n[B]&&(n[B]&=-513,za(i,-1)),t.splice(r,1)}function Sl(e,n){if(e.length<=Je)return;const t=Je+n,r=e[t];if(r){const i=r[Ti];null!==i&&i!==e&&th(i,r),n>0&&(e[t-1][Nt]=r[Nt]);const o=Qo(e,Je+n);!function Eb(e,n){$i(e,n,n[H],2,null,null),n[fn]=null,n[Be]=null}(r[M],r);const s=o[zt];null!==s&&s.detachView(o[M]),r[ve]=null,r[Nt]=null,r[B]&=-65}return r}function nh(e,n){if(!(128&n[B])){const t=n[H];t.destroyNode&&$i(e,n,t,3,null,null),function Ib(e){let n=e[Mi];if(!n)return Il(e[M],e);for(;n;){let t=null;if(mt(n))t=n[Mi];else{const r=n[Je];r&&(t=r)}if(!t){for(;n&&!n[Nt]&&n!==e;)mt(n)&&Il(n[M],n),n=n[ve];null===n&&(n=e),mt(n)&&Il(n[M],n),t=n&&n[Nt]}n=t}}(n)}}function Il(e,n){if(!(128&n[B])){n[B]&=-65,n[B]|=128,function xb(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let r=0;r<t.length;r+=2){const i=n[t[r]];if(!(i instanceof Oi)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];Ct(4,a,l);try{l.call(a)}finally{Ct(5,a,l)}}else{Ct(4,i,o);try{o.call(i)}finally{Ct(5,i,o)}}}}}(e,n),function Ab(e,n){const t=e.cleanup,r=n[Dr];let i=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[i=s]():r[i=-s].unsubscribe(),o+=2}else{const s=r[i=t[o+1]];t[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();n[Dr]=null}}(e,n),1===n[M].type&&n[H].destroy();const t=n[Ti];if(null!==t&&Ot(n[ve])){t!==n[ve]&&th(t,n);const r=n[zt];null!==r&&r.detachView(e)}!function fb(e){ml.delete(e[Ai])}(n)}}function rh(e,n,t){return function ih(e,n,t){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return t[fn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===Gt.None||o===Gt.Emulated)return null}return yt(r,t)}}(e,n.parent,t)}function tr(e,n,t,r,i){e.insertBefore(n,t,r,i)}function oh(e,n,t){e.appendChild(n,t)}function sh(e,n,t,r,i){null!==r?tr(e,n,t,r,i):oh(e,n,t)}function rs(e,n){return e.parentNode(n)}let Ml,Ol,uh=function lh(e,n,t){return 40&e.type?yt(e,t):null};function is(e,n,t,r){const i=rh(e,r,n),o=n[H],a=function ah(e,n,t){return uh(e,n,t)}(r.parent||n[Be],r,n);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)sh(o,i,t[l],a,!1);else sh(o,i,t,a,!1);void 0!==Ml&&Ml(o,r,n,t,i)}function os(e,n){if(null!==n){const t=n.type;if(3&t)return yt(n,e);if(4&t)return Tl(-1,e[n.index]);if(8&t){const r=n.child;if(null!==r)return os(e,r);{const i=e[n.index];return Ot(i)?Tl(-1,i):Le(i)}}if(32&t)return Dl(n,e)()||Le(e[n.index]);{const r=dh(e,n);return null!==r?Array.isArray(r)?r[0]:os(Bi(e[$e]),r):os(e,n.next)}}return null}function dh(e,n){return null!==n?e[$e][Be].projection[n.projection]:null}function Tl(e,n){const t=Je+e+1;if(t<n.length){const r=n[t],i=r[M].firstChild;if(null!==i)return os(r,i)}return n[Vo]}function xl(e,n,t,r,i,o,s){for(;null!=t;){const a=r[t.index],l=t.type;if(s&&0===n&&(a&&Ue(Le(a),r),t.flags|=2),32!=(32&t.flags))if(8&l)xl(e,n,t.child,r,i,o,!1),Pr(n,e,i,a,o);else if(32&l){const u=Dl(t,r);let c;for(;c=u();)Pr(n,e,i,c,o);Pr(n,e,i,a,o)}else 16&l?fh(e,n,r,t,i,o):Pr(n,e,i,a,o);t=s?t.projectionNext:t.next}}function $i(e,n,t,r,i,o){xl(t,r,e.firstChild,n,i,o,!1)}function fh(e,n,t,r,i,o){const s=t[$e],l=s[Be].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)Pr(n,e,i,l[u],o);else xl(e,n,l,s[ve],i,o,!0)}function hh(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function ph(e,n,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&tl(e,n,r),null!==i&&hh(e,n,i),null!==o&&function kb(e,n,t){e.setAttribute(n,"style",t)}(e,n,o)}class vh{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const Th=new R("ENVIRONMENT_INITIALIZER"),Ah=new R("INJECTOR",-1),xh=new R("INJECTOR_DEF_TYPES");class Nh{get(n,t=bi){if(t===bi){const r=new Error(`NullInjectorError: No provider for ${ce(n)}!`);throw r.name="NullInjectorError",r}return t}}function cE(...e){return{\u0275providers:Oh(0,e),\u0275fromNgModule:!0}}function Oh(e,...n){const t=[],r=new Set;let i;return er(n,o=>{const s=o;Vl(s,t,[],r)&&(i||(i=[]),i.push(s))}),void 0!==i&&Fh(i,t),t}function Fh(e,n){for(let t=0;t<e.length;t++){const{providers:i}=e[t];jl(i,o=>{n.push(o)})}}function Vl(e,n,t,r){if(!(e=N(e)))return!1;let i=null,o=Rd(e);const s=!o&&ie(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const l=e.ngModule;if(o=Rd(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of l)Vl(u,n,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{er(o.imports,c=>{Vl(c,n,t,r)&&(u||(u=[]),u.push(c))})}finally{}void 0!==u&&Fh(u,n)}if(!a){const u=Qn(i)||(()=>new i);n.push({provide:i,useFactory:u,deps:X},{provide:xh,useValue:i,multi:!0},{provide:Th,useValue:()=>J(i),multi:!0})}const l=o.providers;null==l||a||jl(l,c=>{n.push(c)})}}return i!==e&&void 0!==e.providers}function jl(e,n){for(let t of e)Pa(t)&&(t=t.\u0275providers),Array.isArray(t)?jl(t,n):n(t)}const dE=ae({provide:String,useValue:ae});function Bl(e){return null!==e&&"object"==typeof e&&dE in e}function nr(e){return"function"==typeof e}const $l=new R("Set Injector scope."),us={},hE={};let Hl;function cs(){return void 0===Hl&&(Hl=new Nh),Hl}class kr{}class kh extends kr{get destroyed(){return this._destroyed}constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gl(n,s=>this.processProvider(s)),this.records.set(Ah,Lr(void 0,this)),i.has("environment")&&this.records.set(kr,Lr(void 0,this));const o=this.records.get($l);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(xh.multi,X,P.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();for(const n of this._onDestroyHooks)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(n){this._onDestroyHooks.push(n)}runInContext(n){this.assertNotDestroyed();const t=vr(this),r=Et(void 0);try{return n()}finally{vr(t),Et(r)}}get(n,t=bi,r=P.Default){this.assertNotDestroyed(),r=Oo(r);const i=vr(this),o=Et(void 0);try{if(!(r&P.SkipSelf)){let a=this.records.get(n);if(void 0===a){const l=function _E(e){return"function"==typeof e||"object"==typeof e&&e instanceof R}(n)&&Ao(n);a=l&&this.injectableDefInScope(l)?Lr(Ul(n),us):null,this.records.set(n,a)}if(null!=a)return this.hydrate(n,a)}return(r&P.Self?cs():this.parent).get(n,t=r&P.Optional&&t===bi?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[No]=s[No]||[]).unshift(ce(n)),i)throw s;return function UD(e,n,t,r){const i=e[No];throw n[Vd]&&i.unshift(n[Vd]),e.message=function GD(e,n,t,r=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==BD?e.slice(2):e;let i=ce(n);if(Array.isArray(n))i=n.map(ce).join(" -> ");else if("object"==typeof n){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):ce(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(jD,"\n  ")}`}("\n"+e.message,i,t,r),e[VD]=i,e[No]=null,e}(s,n,"R3InjectorError",this.source)}throw s}finally{Et(o),vr(i)}}resolveInjectorInitializers(){const n=vr(this),t=Et(void 0);try{const r=this.get(Th.multi,X,P.Self);for(const i of r)i()}finally{vr(n),Et(t)}}toString(){const n=[],t=this.records;for(const r of t.keys())n.push(ce(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new C(205,!1)}processProvider(n){let t=nr(n=N(n))?n:N(n&&n.provide);const r=function gE(e){return Bl(e)?Lr(void 0,e.useValue):Lr(Lh(e),us)}(n);if(nr(n)||!0!==n.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Lr(void 0,us,!0),i.factory=()=>Va(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t){return t.value===us&&(t.value=hE,t.value=t.factory()),"object"==typeof t.value&&t.value&&function yE(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(n){if(!n.providedIn)return!1;const t=N(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function Ul(e){const n=Ao(e),t=null!==n?n.factory:Qn(e);if(null!==t)return t;if(e instanceof R)throw new C(204,!1);if(e instanceof Function)return function pE(e){const n=e.length;if(n>0)throw function ki(e,n){const t=[];for(let r=0;r<e;r++)t.push(n);return t}(n,"?"),new C(204,!1);const t=function RD(e){return e&&(e[xo]||e[kd])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new C(204,!1)}function Lh(e,n,t){let r;if(nr(e)){const i=N(e);return Qn(i)||Ul(i)}if(Bl(e))r=()=>N(e.useValue);else if(function Rh(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Va(e.deps||[]));else if(function Ph(e){return!(!e||!e.useExisting)}(e))r=()=>J(N(e.useExisting));else{const i=N(e&&(e.useClass||e.provide));if(!function mE(e){return!!e.deps}(e))return Qn(i)||Ul(i);r=()=>new i(...Va(e.deps))}return r}function Lr(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function Gl(e,n){for(const t of e)Array.isArray(t)?Gl(t,n):t&&Pa(t)?Gl(t.\u0275providers,n):n(t)}class vE{}class Vh{}class wE{resolveComponentFactory(n){throw function DE(e){const n=Error(`No component factory found for ${ce(e)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=e,n}(n)}}let ds=(()=>{class e{}return e.NULL=new wE,e})();function bE(){return Vr(Ve(),D())}function Vr(e,n){return new Pt(yt(e,n))}let Pt=(()=>{class e{constructor(t){this.nativeElement=t}}return e.__NG_ELEMENT_ID__=bE,e})();class Bh{}let rr=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function CE(){const e=D(),t=st(Ve().index,e);return(mt(t)?t:e)[H]}(),e})(),SE=(()=>{class e{}return e.\u0275prov=le({token:e,providedIn:"root",factory:()=>null}),e})();class fs{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const IE=new fs("15.2.9"),zl={},Wl="ngOriginalError";function ql(e){return e[Wl]}class jr{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&ql(n);for(;t&&ql(t);)t=ql(t);return t||null}}function Hh(e,n,t){let r=e.length;for(;;){const i=e.indexOf(n,t);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=n.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}t=i+1}}const Uh="ng-template";function LE(e,n,t){let r=0,i=!0;for(;r<e.length;){let o=e[r++];if("string"==typeof o&&i){const s=e[r++];if(t&&"class"===o&&-1!==Hh(s.toLowerCase(),n,0))return!0}else{if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===n)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function Gh(e){return 4===e.type&&e.value!==Uh}function VE(e,n,t){return n===(4!==e.type||t?e.value:Uh)}function jE(e,n,t){let r=4;const i=e.attrs||[],o=function HE(e){for(let n=0;n<e.length;n++)if(yf(e[n]))return n;return e.length}(i);let s=!1;for(let a=0;a<n.length;a++){const l=n[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!VE(e,l,t)||""===l&&1===n.length){if(Rt(r))return!1;s=!0}}else{const u=8&r?l:n[++a];if(8&r&&null!==e.attrs){if(!LE(e.attrs,u,t)){if(Rt(r))return!1;s=!0}continue}const d=BE(8&r?"class":l,i,Gh(e),t);if(-1===d){if(Rt(r))return!1;s=!0;continue}if(""!==u){let f;f=d>o?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==Hh(h,u,0)||2&r&&u!==f){if(Rt(r))return!1;s=!0}}}}else{if(!s&&!Rt(r)&&!Rt(l))return!1;if(s&&Rt(l))continue;s=!1,r=l|1&r}}return Rt(r)||s}function Rt(e){return 0==(1&e)}function BE(e,n,t,r){if(null===n)return-1;let i=0;if(r||!t){let o=!1;for(;i<n.length;){const s=n[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=n[++i];for(;"string"==typeof a;)a=n[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function UE(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function zh(e,n,t=!1){for(let r=0;r<n.length;r++)if(jE(e,n[r],t))return!0;return!1}function Wh(e,n){return e?":not("+n.trim()+")":n}function zE(e){let n=e[0],t=1,r=2,i="",o=!1;for(;t<e.length;){let s=e[t];if("string"==typeof s)if(2&r){const a=e[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Rt(s)&&(n+=Wh(o,i),i=""),r=s,o=o||!Rt(r);t++}return""!==i&&(n+=Wh(o,i)),n}const j={};function oe(e){qh(K(),D(),et()+e,!1)}function qh(e,n,t,r){if(!r)if(3==(3&n[B])){const o=e.preOrderCheckHooks;null!==o&&Go(n,o,t)}else{const o=e.preOrderHooks;null!==o&&zo(n,o,0,t)}Jn(t)}function Qh(e,n=null,t=null,r){const i=Jh(e,n,t,r);return i.resolveInjectorInitializers(),i}function Jh(e,n=null,t=null,r,i=new Set){const o=[t||X,cE(e)];return r=r||("object"==typeof e?void 0:ce(e)),new kh(o,n||cs(),r||null,i)}let Pn=(()=>{class e{static create(t,r){if(Array.isArray(t))return Qh({name:""},r,t,"");{const i=t.name??"";return Qh({name:i},t.parent,t.providers,i)}}}return e.THROW_IF_NOT_FOUND=bi,e.NULL=new Nh,e.\u0275prov=le({token:e,providedIn:"any",factory:()=>J(Ah)}),e.__NG_ELEMENT_ID__=-1,e})();function w(e,n=P.Default){const t=D();return null===t?J(e,n):If(Ve(),t,N(e),n)}function op(e,n){const t=e.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const s=e.data[o];Za(t[r]),s.contentQueries(2,n[o],o)}}}function ps(e,n,t,r,i,o,s,a,l,u,c){const d=n.blueprint.slice();return d[fn]=i,d[B]=76|r,(null!==c||e&&1024&e[B])&&(d[B]|=1024),nf(d),d[ve]=d[wr]=e,d[Ce]=t,d[Lo]=s||e&&e[Lo],d[H]=a||e&&e[H],d[$a]=l||e&&e[$a]||null,d[ko]=u||e&&e[ko]||null,d[Be]=o,d[Ai]=function cb(){return ub++}(),d[Wd]=c,d[$e]=2==n.type?e[$e]:d,d}function Hr(e,n,t,r,i){let o=e.data[n];if(null===o)o=function Jl(e,n,t,r,i){const o=sf(),s=Wa(),l=e.data[n]=function _C(e,n,t,r,i,o){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,n,r,i);return null===e.firstChild&&(e.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(e,n,t,r,i),function pw(){return V.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function Ni(){const e=V.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Kt(o,!0),o}function zi(e,n,t,r){if(0===t)return-1;const i=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function Xl(e,n,t){Qa(n);try{const r=e.viewQuery;null!==r&&lu(1,r,t);const i=e.template;null!==i&&sp(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&op(e,n),e.staticViewQueries&&lu(2,e.viewQuery,t);const o=e.components;null!==o&&function gC(e,n){for(let t=0;t<n.length;t++)VC(e,n[t])}(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[B]&=-5,Ja()}}function gs(e,n,t,r){const i=n[B];if(128!=(128&i)){Qa(n);try{nf(n),function lf(e){return V.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&sp(e,n,t,2,r);const s=3==(3&i);if(s){const u=e.preOrderCheckHooks;null!==u&&Go(n,u,null)}else{const u=e.preOrderHooks;null!==u&&zo(n,u,0,null),Xa(n,0)}if(function kC(e){for(let n=wl(e);null!==n;n=bl(n)){if(!n[qd])continue;const t=n[Er];for(let r=0;r<t.length;r++){const i=t[r];512&i[B]||za(i[ve],1),i[B]|=512}}}(n),function RC(e){for(let n=wl(e);null!==n;n=bl(n))for(let t=Je;t<n.length;t++){const r=n[t],i=r[M];Ho(r)&&gs(i,r,i.template,r[Ce])}}(n),null!==e.contentQueries&&op(e,n),s){const u=e.contentCheckHooks;null!==u&&Go(n,u)}else{const u=e.contentHooks;null!==u&&zo(n,u,1),Xa(n,1)}!function hC(e,n){const t=e.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Jn(~i);else{const o=i,s=t[++r],a=t[++r];gw(s,o),a(2,n[o])}}}finally{Jn(-1)}}(e,n);const a=e.components;null!==a&&function pC(e,n){for(let t=0;t<n.length;t++)LC(e,n[t])}(n,a);const l=e.viewQuery;if(null!==l&&lu(2,l,r),s){const u=e.viewCheckHooks;null!==u&&Go(n,u)}else{const u=e.viewHooks;null!==u&&zo(n,u,2),Xa(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[B]&=-41,512&n[B]&&(n[B]&=-513,za(n[ve],-1))}finally{Ja()}}}function sp(e,n,t,r,i){const o=et(),s=2&r;try{Jn(-1),s&&n.length>pe&&qh(e,n,pe,!1),Ct(s?2:0,i),t(r,i)}finally{Jn(o),Ct(s?3:1,i)}}function eu(e,n,t){if(Ua(n)){const i=n.directiveEnd;for(let o=n.directiveStart;o<i;o++){const s=e.data[o];s.contentQueries&&s.contentQueries(1,t[o],o)}}}function tu(e,n,t){of()&&(function SC(e,n,t,r){const i=t.directiveStart,o=t.directiveEnd;xi(t)&&function OC(e,n,t){const r=yt(n,e),i=ap(t),o=e[Lo],s=ms(e,ps(e,i,null,t.onPush?32:16,r,n,o,o.createRenderer(r,t),null,null,null));e[n.index]=s}(n,t,e.data[i+t.componentOffset]),e.firstCreatePass||Yo(t,n),Ue(r,n);const s=t.initialInputs;for(let a=i;a<o;a++){const l=e.data[a],u=Xn(n,e,a,t);Ue(u,n),null!==s&&FC(0,a-i,u,l,0,s),Ft(l)&&(st(t.index,n)[Ce]=Xn(n,e,a,t))}}(e,n,t,yt(t,n)),64==(64&t.flags)&&fp(e,n,t))}function nu(e,n,t=yt){const r=n.localNames;if(null!==r){let i=n.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(n,e):e[s];e[i++]=a}}}function ap(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=ru(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):n}function ru(e,n,t,r,i,o,s,a,l,u){const c=pe+r,d=c+i,f=function mC(e,n){const t=[];for(let r=0;r<n;r++)t.push(r<e?null:j);return t}(c,d),h="function"==typeof u?u():u;return f[M]={type:e,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:n,data:f.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:h,incompleteFirstPass:!1}}function up(e,n,t,r){for(let i in e)if(e.hasOwnProperty(i)){t=null===t?{}:t;const o=e[i];null===r?cp(t,n,i,o):r.hasOwnProperty(i)&&cp(t,n,r[i],o)}return t}function cp(e,n,t,r){e.hasOwnProperty(t)?e[t].push(n,r):e[t]=[n,r]}function iu(e,n,t,r){if(of()){const i=null===r?null:{"":-1},o=function MC(e,n){const t=e.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(zh(n,s.selectors,!1))if(r||(r=[]),Ft(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),ou(e,n,a.length)}else r.unshift(s),ou(e,n,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(e,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&dp(e,n,t,s,i,a),i&&function TC(e,n,t){if(n){const r=e.localNames=[];for(let i=0;i<n.length;i+=2){const o=t[n[i+1]];if(null==o)throw new C(-301,!1);r.push(n[i],o)}}}(t,r,i)}t.mergedAttrs=Fi(t.mergedAttrs,t.attrs)}function dp(e,n,t,r,i,o){for(let u=0;u<r.length;u++)ol(Yo(t,n),e,r[u].type);!function xC(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,r.length);for(let u=0;u<r.length;u++){const c=r[u];c.providersResolver&&c.providersResolver(c)}let s=!1,a=!1,l=zi(e,n,r.length,null);for(let u=0;u<r.length;u++){const c=r[u];t.mergedAttrs=Fi(t.mergedAttrs,c.hostAttrs),NC(e,t,n,l,c),AC(l,c,i),null!==c.contentQueries&&(t.flags|=4),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(t.flags|=64);const d=c.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??(e.preOrderHooks=[])).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??(e.preOrderCheckHooks=[])).push(t.index),a=!0),l++}!function vC(e,n,t){const i=n.directiveEnd,o=e.data,s=n.attrs,a=[];let l=null,u=null;for(let c=n.directiveStart;c<i;c++){const d=o[c],f=t?t.get(d):null,p=f?f.outputs:null;l=up(d.inputs,c,l,f?f.inputs:null),u=up(d.outputs,c,u,p);const g=null===l||null===s||Gh(n)?null:PC(l,c,s);a.push(g)}null!==l&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=u}(e,t,o)}function fp(e,n,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function mw(){return V.lFrame.currentDirectiveIndex}();try{Jn(o);for(let a=r;a<i;a++){const l=e.data[a],u=n[a];Ka(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&IC(l,u)}}finally{Jn(-1),Ka(s)}}function IC(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function ou(e,n,t){n.componentOffset=t,(e.components??(e.components=[])).push(n.index)}function AC(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;Ft(n)&&(t[""]=e)}}function NC(e,n,t,r,i){e.data[r]=i;const o=i.factory||(i.factory=Qn(i.type)),s=new Oi(o,Ft(i),w);e.blueprint[r]=s,t[r]=s,function EC(e,n,t,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~n.index;(function CC(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(e,n,r,zi(e,t,i.hostVars,j),i)}function FC(e,n,t,r,i,o){const s=o[n];if(null!==s){const a=r.setInput;for(let l=0;l<s.length;){const u=s[l++],c=s[l++],d=s[l++];null!==a?r.setInput(t,d,u,c):t[c]=d}}}function PC(e,n,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===n){r.push(o,s[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function hp(e,n,t,r){return[e,!0,!1,n,null,0,r,t,null,null]}function LC(e,n){const t=st(n,e);if(Ho(t)){const r=t[M];48&t[B]?gs(r,t,r.template,t[Ce]):t[Zn]>0&&au(t)}}function au(e){for(let r=wl(e);null!==r;r=bl(r))for(let i=Je;i<r.length;i++){const o=r[i];if(Ho(o))if(512&o[B]){const s=o[M];gs(s,o,s.template,o[Ce])}else o[Zn]>0&&au(o)}const t=e[M].components;if(null!==t)for(let r=0;r<t.length;r++){const i=st(t[r],e);Ho(i)&&i[Zn]>0&&au(i)}}function VC(e,n){const t=st(n,e),r=t[M];(function jC(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])})(r,t),Xl(r,t,t[Ce])}function ms(e,n){return e[Mi]?e[zd][Nt]=n:e[Mi]=n,e[zd]=n,n}function ys(e){for(;e;){e[B]|=32;const n=Bi(e);if(ZD(e)&&!n)return e;e=n}return null}function _s(e,n,t,r=!0){const i=n[Lo];i.begin&&i.begin();try{gs(e,n,e.template,t)}catch(s){throw r&&yp(n,s),s}finally{i.end&&i.end()}}function lu(e,n,t){Za(0),n(e,t)}function pp(e){return e[Dr]||(e[Dr]=[])}function gp(e){return e.cleanup||(e.cleanup=[])}function yp(e,n){const t=e[ko],r=t?t.get(jr,null):null;r&&r.handleError(n)}function uu(e,n,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],l=n[s],u=e.data[s];null!==u.setInput?u.setInput(l,i,r,a):l[a]=i}}function _n(e,n,t){const r=$o(n,e);!function eh(e,n,t){e.setValue(n,t)}(e[H],r,t)}function vs(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,o=0;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?o=a:1==o?i=Oa(i,a):2==o&&(r=Oa(r,a+": "+n[++s]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function Ds(e,n,t,r,i=!1){for(;null!==t;){const o=n[t.index];if(null!==o&&r.push(Le(o)),Ot(o))for(let a=Je;a<o.length;a++){const l=o[a],u=l[M].firstChild;null!==u&&Ds(l[M],l,u,r)}const s=t.type;if(8&s)Ds(e,n,t.child,r);else if(32&s){const a=Dl(t,n);let l;for(;l=a();)r.push(l)}else if(16&s){const a=dh(n,t);if(Array.isArray(a))r.push(...a);else{const l=Bi(n[$e]);Ds(l[M],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Wi{get rootNodes(){const n=this._lView,t=n[M];return Ds(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ce]}set context(n){this._lView[Ce]=n}get destroyed(){return 128==(128&this._lView[B])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[ve];if(Ot(n)){const t=n[jo],r=t?t.indexOf(this):-1;r>-1&&(Sl(n,r),Qo(t,r))}this._attachedToViewContainer=!1}nh(this._lView[M],this._lView)}onDestroy(n){!function lp(e,n,t,r){const i=pp(n);null===t?i.push(r):(i.push(t),e.firstCreatePass&&gp(e).push(r,i.length-1))}(this._lView[M],this._lView,null,n)}markForCheck(){ys(this._cdRefInjectingView||this._lView)}detach(){this._lView[B]&=-65}reattach(){this._lView[B]|=64}detectChanges(){_s(this._lView[M],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Sb(e,n){$i(e,n,n[H],2,null,null)}(this._lView[M],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=n}}class BC extends Wi{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;_s(n[M],n,n[Ce],!1)}checkNoChanges(){}get context(){return null}}class _p extends ds{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=ie(n);return new qi(t,this.ngModule)}}function vp(e){const n=[];for(let t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}class HC{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=Oo(r);const i=this.injector.get(n,zl,r);return i!==zl||t===zl?i:this.parentInjector.get(n,t,r)}}class qi extends Vh{get inputs(){return vp(this.componentDef.inputs)}get outputs(){return vp(this.componentDef.outputs)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function WE(e){return e.map(zE).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,r,i){let o=(i=i||this.ngModule)instanceof kr?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new HC(n,o):n,a=s.get(Bh,null);if(null===a)throw new C(407,!1);const l=s.get(SE,null),u=a.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",d=r?function yC(e,n,t){return e.selectRootElement(n,t===Gt.ShadowDom)}(u,r,this.componentDef.encapsulation):Cl(u,c,function $C(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(c)),f=this.componentDef.onPush?288:272,h=ru(0,null,null,1,0,null,null,null,null,null),p=ps(null,h,null,f,null,null,a,u,l,s,null);let g,y;Qa(p);try{const v=this.componentDef;let b,_=null;v.findHostDirectiveDefs?(b=[],_=new Map,v.findHostDirectiveDefs(v,b,_),b.push(v)):b=[v];const I=function GC(e,n){const t=e[M],r=pe;return e[r]=n,Hr(t,r,2,"#host",null)}(p,d),W=function zC(e,n,t,r,i,o,s,a){const l=i[M];!function WC(e,n,t,r){for(const i of e)n.mergedAttrs=Fi(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&(vs(n,n.mergedAttrs,!0),null!==t&&ph(r,t,n))}(r,e,n,s);const u=o.createRenderer(n,t),c=ps(i,ap(t),null,t.onPush?32:16,i[e.index],e,o,u,a||null,null,null);return l.firstCreatePass&&ou(l,e,r.length-1),ms(i,c),i[e.index]=c}(I,d,v,b,p,a,u);y=tf(h,pe),d&&function KC(e,n,t,r){if(r)tl(e,t,["ng-version",IE.full]);else{const{attrs:i,classes:o}=function qE(e){const n=[],t=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&n.push(o,e[++r]):8===i&&t.push(o);else{if(!Rt(i))break;i=o}r++}return{attrs:n,classes:t}}(n.selectors[0]);i&&tl(e,t,i),o&&o.length>0&&hh(e,t,o.join(" "))}}(u,v,d,r),void 0!==t&&function YC(e,n,t){const r=e.projection=[];for(let i=0;i<n.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(y,this.ngContentSelectors,t),g=function qC(e,n,t,r,i,o){const s=Ve(),a=i[M],l=yt(s,i);dp(a,i,s,t,null,r);for(let c=0;c<t.length;c++)Ue(Xn(i,a,s.directiveStart+c,s),i);fp(a,i,s),l&&Ue(l,i);const u=Xn(i,a,s.directiveStart+s.componentOffset,s);if(e[Ce]=i[Ce]=u,null!==o)for(const c of o)c(u,n);return eu(a,s,e),u}(W,v,b,_,p,[ZC]),Xl(h,p,null)}finally{Ja()}return new UC(this.componentType,g,Vr(y,p),p,y)}}class UC extends vE{constructor(n,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new BC(i),this.componentType=n}setInput(n,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){const o=this._rootLView;uu(o[M],o,i,n,t),ys(st(this._tNode.index,o))}}get injector(){return new Mr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function ZC(){const e=Ve();Uo(D()[M],e)}function se(e){let n=function Dp(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const r=[e];for(;n;){let i;if(Ft(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new C(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);const s=e;s.inputs=cu(e.inputs),s.declaredInputs=cu(e.declaredInputs),s.outputs=cu(e.outputs);const a=i.hostBindings;a&&e0(e,a);const l=i.viewQuery,u=i.contentQueries;if(l&&JC(e,l),u&&XC(e,u),Na(e.inputs,i.inputs),Na(e.declaredInputs,i.declaredInputs),Na(e.outputs,i.outputs),Ft(i)&&i.data.animation){const c=e.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===se&&(t=!1)}}n=Object.getPrototypeOf(n)}!function QC(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Fi(i.hostAttrs,t=Fi(t,i.hostAttrs))}}(r)}function cu(e){return e===un?{}:e===X?[]:e}function JC(e,n){const t=e.viewQuery;e.viewQuery=t?(r,i)=>{n(r,i),t(r,i)}:n}function XC(e,n){const t=e.contentQueries;e.contentQueries=t?(r,i,o)=>{n(r,i,o),t(r,i,o)}:n}function e0(e,n){const t=e.hostBindings;e.hostBindings=t?(r,i)=>{n(r,i),t(r,i)}:n}function ws(e){return!!du(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function du(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Qt(e,n,t){return e[n]=t}function Ge(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function ir(e,n,t,r){const i=Ge(e,n,t);return Ge(e,n+1,r)||i}function zr(e,n,t,r,i,o){const a=ir(e,function pn(){return V.lFrame.bindingIndex}(),t,i);return gn(2),a?n+k(t)+r+k(i)+o:j}function Dt(e,n,t,r,i,o,s,a){const l=D(),u=K(),c=e+pe,d=u.firstCreatePass?function d0(e,n,t,r,i,o,s,a,l){const u=n.consts,c=Hr(n,e,4,s||null,On(u,a));iu(n,t,c,On(u,l)),Uo(n,c);const d=c.tView=ru(2,c,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,u);return null!==n.queries&&(n.queries.template(n,c),d.queries=n.queries.embeddedTView(c)),c}(c,u,l,n,t,r,i,o,s):u.data[c];Kt(d,!1);const f=l[H].createComment("");is(u,l,f,d),Ue(f,l),ms(l,l[c]=hp(f,l,f,d)),Bo(d)&&tu(u,l,d),null!=s&&nu(l,d,a)}function ge(e,n,t){const r=D();return Ge(r,Sr(),n)&&function vt(e,n,t,r,i,o,s,a){const l=yt(n,t);let c,u=n.inputs;!a&&null!=u&&(c=u[r])?(uu(e,t,c,r,i),xi(n)&&function wC(e,n){const t=st(n,e);16&t[B]||(t[B]|=32)}(t,n.index)):3&n.type&&(r=function DC(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,n.value||"",r):i,o.setProperty(l,r,i))}(K(),function ye(){const e=V.lFrame;return tf(e.tView,e.selectedIndex)}(),r,e,n,r[H],t,!1),ge}function fu(e,n,t,r,i){const s=i?"class":"style";uu(e,t,n.inputs[s],s,r)}function A(e,n,t,r){const i=D(),o=K(),s=pe+e,a=i[H],l=o.firstCreatePass?function h0(e,n,t,r,i,o){const s=n.consts,l=Hr(n,e,2,r,On(s,i));return iu(n,t,l,On(s,o)),null!==l.attrs&&vs(l,l.attrs,!1),null!==l.mergedAttrs&&vs(l,l.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,l),l}(s,o,i,n,t,r):o.data[s],u=i[s]=Cl(a,n,function Cw(){return V.lFrame.currentNamespace}()),c=Bo(l);return Kt(l,!0),ph(a,u,l),32!=(32&l.flags)&&is(o,i,u,l),0===function lw(){return V.lFrame.elementDepthCount}()&&Ue(u,i),function uw(){V.lFrame.elementDepthCount++}(),c&&(tu(o,i,l),eu(o,l,i)),null!==r&&nu(i,l),A}function T(){let e=Ve();Wa()?function qa(){V.lFrame.isParent=!1}():(e=e.parent,Kt(e,!1));const n=e;!function cw(){V.lFrame.elementDepthCount--}();const t=K();return t.firstCreatePass&&(Uo(t,e),Ua(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function Tw(e){return 0!=(8&e.flags)}(n)&&fu(t,n,D(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Aw(e){return 0!=(16&e.flags)}(n)&&fu(t,n,D(),n.stylesWithoutHost,!1),T}function Dn(e,n,t,r){return A(e,n,t,r),T(),Dn}function Jr(){return D()}function Es(e){return!!e&&"function"==typeof e.then}const kp=function Rp(e){return!!e&&"function"==typeof e.subscribe};function Se(e,n,t,r){const i=D(),o=K(),s=Ve();return function Vp(e,n,t,r,i,o,s){const a=Bo(r),u=e.firstCreatePass&&gp(e),c=n[Ce],d=pp(n);let f=!0;if(3&r.type||s){const g=yt(r,n),y=s?s(g):g,v=d.length,b=s?I=>s(Le(I[r.index])):r.index;let _=null;if(!s&&a&&(_=function g0(e,n,t,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=n[Dr],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(e,n,i,r.index)),null!==_)(_.__ngLastListenerFn__||_).__ngNextListenerFn__=o,_.__ngLastListenerFn__=o,f=!1;else{o=Bp(r,n,c,o,!1);const I=t.listen(y,i,o);d.push(o,I),u&&u.push(i,b,v,v+1)}}else o=Bp(r,n,c,o,!1);const h=r.outputs;let p;if(f&&null!==h&&(p=h[i])){const g=p.length;if(g)for(let y=0;y<g;y+=2){const W=n[p[y]][p[y+1]].subscribe(o),Te=d.length;d.push(o,W),u&&u.push(i,r.index,Te,-(Te+1))}}}(o,i,i[H],s,e,n,r),Se}function jp(e,n,t,r){try{return Ct(6,n,t),!1!==t(r)}catch(i){return yp(e,i),!1}finally{Ct(7,n,t)}}function Bp(e,n,t,r,i){return function o(s){if(s===Function)return r;ys(e.componentOffset>-1?st(e.index,n):n);let l=jp(n,t,r,s),u=o.__ngNextListenerFn__;for(;u;)l=jp(n,t,u,s)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function ze(e=1){return function _w(e){return(V.lFrame.contextLView=function vw(e,n){for(;e>0;)n=n[wr],e--;return n}(e,V.lFrame.contextLView))[Ce]}(e)}function Cs(e,n){return e<<17|n<<2}function Rn(e){return e>>17&32767}function mu(e){return 2|e}function or(e){return(131068&e)>>2}function yu(e,n){return-131069&e|n<<2}function _u(e){return 1|e}function Zp(e,n,t,r,i){const o=e[t+1],s=null===n;let a=r?Rn(o):or(o),l=!1;for(;0!==a&&(!1===l||s);){const c=e[a+1];C0(e[a],n)&&(l=!0,e[a+1]=r?_u(c):mu(c)),a=r?Rn(c):or(c)}l&&(e[t+1]=r?mu(o):_u(o))}function C0(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&Or(e,n)>=0}function Ss(e,n){return function kt(e,n,t,r){const i=D(),o=K(),s=gn(2);o.firstUpdatePass&&function og(e,n,t,r){const i=e.data;if(null===i[t+1]){const o=i[et()],s=function ig(e,n){return n>=e.expandoStartIndex}(e,t);(function ug(e,n){return 0!=(e.flags&(n?8:16))})(o,r)&&null===n&&!s&&(n=!1),n=function F0(e,n,t,r){const i=function Ya(e){const n=V.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let o=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(t=Yi(t=vu(null,e,n,t,r),n.attrs,r),o=null);else{const s=n.directiveStylingLast;if(-1===s||e[s]!==i)if(t=vu(i,e,n,t,r),null===o){let l=function P0(e,n,t){const r=t?n.classBindings:n.styleBindings;if(0!==or(r))return e[Rn(r)]}(e,n,r);void 0!==l&&Array.isArray(l)&&(l=vu(null,e,n,l[1],r),l=Yi(l,n.attrs,r),function R0(e,n,t,r){e[Rn(t?n.classBindings:n.styleBindings)]=r}(e,n,r,l))}else o=function k0(e,n,t){let r;const i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++)r=Yi(r,e[o].hostAttrs,t);return Yi(r,n.attrs,t)}(e,n,r)}return void 0!==o&&(r?n.residualClasses=o:n.residualStyles=o),t}(i,o,n,r),function b0(e,n,t,r,i,o){let s=o?n.classBindings:n.styleBindings,a=Rn(s),l=or(s);e[r]=t;let c,u=!1;if(Array.isArray(t)?(c=t[1],(null===c||Or(t,c)>0)&&(u=!0)):c=t,i)if(0!==l){const f=Rn(e[a+1]);e[r+1]=Cs(f,a),0!==f&&(e[f+1]=yu(e[f+1],r)),e[a+1]=function D0(e,n){return 131071&e|n<<17}(e[a+1],r)}else e[r+1]=Cs(a,0),0!==a&&(e[a+1]=yu(e[a+1],r)),a=r;else e[r+1]=Cs(l,0),0===a?a=r:e[l+1]=yu(e[l+1],r),l=r;u&&(e[r+1]=mu(e[r+1])),Zp(e,c,r,!0),Zp(e,c,r,!1),function E0(e,n,t,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof n&&Or(o,n)>=0&&(t[r+1]=_u(t[r+1]))}(n,c,e,r,o),s=Cs(a,l),o?n.classBindings=s:n.styleBindings=s}(i,o,n,t,s,r)}}(o,e,s,r),n!==j&&Ge(i,s,n)&&function ag(e,n,t,r,i,o,s,a){if(!(3&n.type))return;const l=e.data,u=l[a+1],c=function w0(e){return 1==(1&e)}(u)?lg(l,n,t,i,or(u),s):void 0;Is(c)||(Is(o)||function v0(e){return 2==(2&e)}(u)&&(o=lg(l,null,t,i,a,s)),function Rb(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:at.DashCase;null==i?e.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=at.Important),e.setStyle(t,r,i,o))}}(r,s,$o(et(),t),i,o))}(o,o.data[et()],i,i[H],e,i[s+1]=function B0(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=ce(function Fn(e){return e instanceof vh?e.changingThisBreaksApplicationSecurity:e}(e)))),e}(n,t),r,s)}(e,n,null,!0),Ss}function vu(e,n,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=n[a],r=Yi(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(t.directiveStylingLast=a),r}function Yi(e,n,t){const r=t?1:2;let i=-1;if(null!==n)for(let o=0;o<n.length;o++){const s=n[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),_t(e,s,!!t||n[++o]))}return void 0===e?null:e}function lg(e,n,t,r,i,o){const s=null===n;let a;for(;i>0;){const l=e[i],u=Array.isArray(l),c=u?l[1]:l,d=null===c;let f=t[i+1];f===j&&(f=d?X:void 0);let h=d?cl(f,r):c===r?f:void 0;if(u&&!Is(h)&&(h=cl(l,r)),Is(h)&&(a=h,s))return a;const p=e[i+1];i=s?Rn(p):or(p)}if(null!==n){let l=o?n.residualClasses:n.residualStyles;null!=l&&(a=cl(l,r))}return a}function Is(e){return void 0!==e}function U(e,n=""){const t=D(),r=K(),i=e+pe,o=r.firstCreatePass?Hr(r,i,1,n,null):r.data[i],s=t[i]=function El(e,n){return e.createText(n)}(t[H],n);is(r,t,s,o),Kt(o,!1)}function kn(e){return Ln("",e,""),kn}function Ln(e,n,t){const r=D(),i=function Gr(e,n,t,r){return Ge(e,Sr(),t)?n+k(t)+r:j}(r,e,n,t);return i!==j&&_n(r,et(),i),Ln}function Du(e,n,t,r,i){const o=D(),s=zr(o,e,n,t,r,i);return s!==j&&_n(o,et(),s),Du}const sr=void 0;var sS=["en",[["a","p"],["AM","PM"],sr],[["AM","PM"],sr,sr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],sr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],sr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",sr,"{1} 'at' {0}",sr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function oS(e){const t=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let ei={};function tt(e){const n=function aS(e){return e.toLowerCase().replace(/_/g,"-")}(e);let t=Ag(n);if(t)return t;const r=n.split("-")[0];if(t=Ag(r),t)return t;if("en"===r)return sS;throw new C(701,!1)}function Ag(e){return e in ei||(ei[e]=he.ng&&he.ng.common&&he.ng.common.locales&&he.ng.common.locales[e]),ei[e]}var S=(()=>((S=S||{})[S.LocaleId=0]="LocaleId",S[S.DayPeriodsFormat=1]="DayPeriodsFormat",S[S.DayPeriodsStandalone=2]="DayPeriodsStandalone",S[S.DaysFormat=3]="DaysFormat",S[S.DaysStandalone=4]="DaysStandalone",S[S.MonthsFormat=5]="MonthsFormat",S[S.MonthsStandalone=6]="MonthsStandalone",S[S.Eras=7]="Eras",S[S.FirstDayOfWeek=8]="FirstDayOfWeek",S[S.WeekendRange=9]="WeekendRange",S[S.DateFormat=10]="DateFormat",S[S.TimeFormat=11]="TimeFormat",S[S.DateTimeFormat=12]="DateTimeFormat",S[S.NumberSymbols=13]="NumberSymbols",S[S.NumberFormats=14]="NumberFormats",S[S.CurrencyCode=15]="CurrencyCode",S[S.CurrencySymbol=16]="CurrencySymbol",S[S.CurrencyName=17]="CurrencyName",S[S.Currencies=18]="Currencies",S[S.Directionality=19]="Directionality",S[S.PluralCase=20]="PluralCase",S[S.ExtraData=21]="ExtraData",S))();const ti="en-US";let xg=ti;function Eu(e,n,t,r,i){if(e=N(e),Array.isArray(e))for(let o=0;o<e.length;o++)Eu(e[o],n,t,r,i);else{const o=K(),s=D();let a=nr(e)?e:N(e.provide),l=Lh(e);const u=Ve(),c=1048575&u.providerIndexes,d=u.directiveStart,f=u.providerIndexes>>20;if(nr(e)||!e.multi){const h=new Oi(l,i,w),p=Su(a,n,i?c:c+f,d);-1===p?(ol(Yo(u,s),o,a),Cu(o,e,n.length),n.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),t.push(h),s.push(h)):(t[p]=h,s[p]=h)}else{const h=Su(a,n,c+f,d),p=Su(a,n,c,c+f),y=p>=0&&t[p];if(i&&!y||!i&&!(h>=0&&t[h])){ol(Yo(u,s),o,a);const v=function iI(e,n,t,r,i){const o=new Oi(e,t,w);return o.multi=[],o.index=n,o.componentProviders=0,tm(o,i,r&&!t),o}(i?rI:nI,t.length,i,r,l);!i&&y&&(t[p].providerFactory=v),Cu(o,e,n.length,0),n.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),t.push(v),s.push(v)}else Cu(o,e,h>-1?h:p,tm(t[i?p:h],l,!i&&r));!i&&r&&y&&t[p].componentProviders++}}}function Cu(e,n,t,r){const i=nr(n),o=function fE(e){return!!e.useClass}(n);if(i||o){const l=(o?N(n.useClass):n).prototype.ngOnDestroy;if(l){const u=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){const c=u.indexOf(t);-1===c?u.push(t,[r,l]):u[c+1].push(r,l)}else u.push(t,l)}}}function tm(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function Su(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function nI(e,n,t,r){return Iu(this.multi,[])}function rI(e,n,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Xn(t,t[M],this.providerFactory.index,r);o=a.slice(0,s),Iu(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Iu(i,o);return o}function Iu(e,n){for(let t=0;t<e.length;t++)n.push((0,e[t])());return n}function me(e,n=[]){return t=>{t.providersResolver=(r,i)=>function tI(e,n,t){const r=K();if(r.firstCreatePass){const i=Ft(e);Eu(t,r.data,r.blueprint,i,!0),Eu(n,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,n)}}class ni{}class oI{}class nm extends ni{constructor(n,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new _p(this);const r=function gt(e,n){const t=e[$d]||null;if(!t&&!0===n)throw new Error(`Type ${ce(e)} does not have '\u0275mod' property.`);return t}(n);this._bootstrapComponents=function yn(e){return e instanceof Function?e():e}(r.bootstrap),this._r3Injector=Jh(n,t,[{provide:ni,useValue:this},{provide:ds,useValue:this.componentFactoryResolver}],ce(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Mu extends oI{constructor(n){super(),this.moduleType=n}create(n){return new nm(this.moduleType,n)}}function to(e,n){const t=e[n];return t===j?void 0:t}function fm(e,n,t,r,i,o,s){const a=n+t;return ir(e,a,i,o)?Qt(e,a+2,s?r.call(s,i,o):r(i,o)):to(e,a+2)}function Ns(e,n){const t=K();let r;const i=e+pe;t.firstCreatePass?(r=function MI(e,n){if(n)for(let t=n.length-1;t>=0;t--){const r=n[t];if(e===r.name)return r}}(n,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const o=r.factory||(r.factory=Qn(r.type)),s=Et(w);try{const a=Ko(!1),l=o();return Ko(a),function f0(e,n,t,r){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=r}(t,D(),i,l),l}finally{Et(s)}}function Au(e,n,t){const r=e+pe,i=D(),o=Cr(i,r);return no(i,r)?function dm(e,n,t,r,i,o){const s=n+t;return Ge(e,s,i)?Qt(e,s+1,o?r.call(o,i):r(i)):to(e,s+1)}(i,Xe(),n,o.transform,t,o):o.transform(t)}function no(e,n){return e[M].data[n].pure}function xu(e){return n=>{setTimeout(e,void 0,n)}}const We=class NI extends Ea{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,r){let i=n,o=t||(()=>null),s=r;if(n&&"object"==typeof n){const l=n;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=xu(o),i&&(i=xu(i)),s&&(s=xu(s)));const a=super.subscribe({next:i,error:o,complete:s});return n instanceof Q&&n.add(a),a}};let wn=(()=>{class e{}return e.__NG_ELEMENT_ID__=RI,e})();const FI=wn,PI=class extends FI{constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(n,t){const r=this._declarationTContainer.tView,i=ps(this._declarationLView,r,n,16,null,r.declTNode,null,null,null,null,t||null);i[Ti]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[zt];return null!==s&&(i[zt]=s.createEmbeddedView(r)),Xl(r,i,n),new Wi(i)}};function RI(){return Os(Ve(),D())}function Os(e,n){return 4&e.type?new PI(n,e,Vr(e,n)):null}let en=(()=>{class e{}return e.__NG_ELEMENT_ID__=kI,e})();function kI(){return function vm(e,n){let t;const r=n[e.index];if(Ot(r))t=r;else{let i;if(8&e.type)i=Le(r);else{const o=n[H];i=o.createComment("");const s=yt(e,n);tr(o,rs(o,s),i,function Ob(e,n){return e.nextSibling(n)}(o,s),!1)}n[e.index]=t=hp(r,n,i,e),ms(n,t)}return new ym(t,e,n)}(Ve(),D())}const LI=en,ym=class extends LI{constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return Vr(this._hostTNode,this._hostLView)}get injector(){return new Mr(this._hostTNode,this._hostLView)}get parentInjector(){const n=il(this._hostTNode,this._hostLView);if(Df(n)){const t=qo(n,this._hostLView),r=Wo(n);return new Mr(t[M].data[r+8],t)}return new Mr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=_m(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-Je}createEmbeddedView(n,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=n.createEmbeddedView(t||{},o);return this.insert(s,i),s}createComponent(n,t,r,i,o){const s=n&&!function Ri(e){return"function"==typeof e}(n);let a;if(s)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,o=d.environmentInjector||d.ngModuleRef}const l=s?n:new qi(ie(n)),u=r||this.parentInjector;if(!o&&null==l.ngModule){const f=(s?u:this.parentInjector).get(kr,null);f&&(o=f)}const c=l.create(u,i,void 0,o);return this.insert(c.hostView,a),c}insert(n,t){const r=n._lView,i=r[M];if(function aw(e){return Ot(e[ve])}(r)){const c=this.indexOf(n);if(-1!==c)this.detach(c);else{const d=r[ve],f=new ym(d,d[Be],d[ve]);f.detach(f.indexOf(n))}}const o=this._adjustIndex(t),s=this._lContainer;!function Mb(e,n,t,r){const i=Je+r,o=t.length;r>0&&(t[i-1][Nt]=n),r<o-Je?(n[Nt]=t[i],Of(t,Je+r,n)):(t.push(n),n[Nt]=null),n[ve]=t;const s=n[Ti];null!==s&&t!==s&&function Tb(e,n){const t=e[Er];n[$e]!==n[ve][ve][$e]&&(e[qd]=!0),null===t?e[Er]=[n]:t.push(n)}(s,n);const a=n[zt];null!==a&&a.insertView(e),n[B]|=64}(i,r,s,o);const a=Tl(o,s),l=r[H],u=rs(l,s[Vo]);return null!==u&&function Cb(e,n,t,r,i,o){r[fn]=i,r[Be]=n,$i(e,r,t,1,i,o)}(i,s[Be],l,r,u,a),n.attachToViewContainerRef(),Of(Ou(s),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=_m(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),r=Sl(this._lContainer,t);r&&(Qo(Ou(this._lContainer),t),nh(r[M],r))}detach(n){const t=this._adjustIndex(n,-1),r=Sl(this._lContainer,t);return r&&null!=Qo(Ou(this._lContainer),t)?new Wi(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function _m(e){return e[jo]}function Ou(e){return e[jo]||(e[jo]=[])}function Sm(e,n){return Os(e,n)}function Ps(...e){}const Gm=new R("Application Initializer");let Rs=(()=>{class e{constructor(t){this.appInits=t,this.resolve=Ps,this.reject=Ps,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(Es(o))t.push(o);else if(kp(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(J(Gm,8))},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const io=new R("AppId",{providedIn:"root",factory:function zm(){return`${Hu()}${Hu()}${Hu()}`}});function Hu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Wm=new R("Platform Initializer"),qm=new R("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),bn=new R("LocaleId",{providedIn:"root",factory:()=>function Bd(e,n=P.Default){return J(e,Oo(n))}(bn,P.Optional|P.SkipSelf)||function hM(){return typeof $localize<"u"&&$localize.locale||ti}()}),pM=new R("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),_M=(()=>Promise.resolve(0))();function Uu(e){typeof Zone>"u"?_M.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class qe{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new We(!1),this.onMicrotaskEmpty=new We(!1),this.onStable=new We(!1),this.onError=new We(!1),typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function vM(){let e=he.requestAnimationFrame,n=he.cancelAnimationFrame;if(typeof Zone<"u"&&e&&n){const t=e[Zone.__symbol__("OriginalDelegate")];t&&(e=t);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function bM(e){const n=()=>{!function wM(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(he,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,zu(e),e.isCheckStableRunning=!0,Gu(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),zu(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{try{return Zm(e),t.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&n(),Qm(e)}},onInvoke:(t,r,i,o,s,a,l)=>{try{return Zm(e),t.invoke(i,o,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&n(),Qm(e)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,zu(e),Gu(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qe.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(qe.isInAngularZone())throw new C(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,DM,Ps,Ps);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}}const DM={};function Gu(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function zu(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Zm(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Qm(e){e._nesting--,Gu(e)}class EM{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new We,this.onMicrotaskEmpty=new We,this.onStable=new We,this.onError=new We}run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}}const Jm=new R(""),ks=new R("");let Ku,Wu=(()=>{class e{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ku||(function CM(e){Ku=e}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qe.assertNotInAngularZone(),Uu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Uu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return e.\u0275fac=function(t){return new(t||e)(J(qe),J(qu),J(ks))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})(),qu=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Ku?.findTestabilityInTree(this,t,r)??null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const En=!1;let Vn=null;const Xm=new R("AllowMultipleToken"),Yu=new R("PlatformDestroyListeners"),SM=new R("appBootstrapListener");function ty(e,n,t=[]){const r=`Platform: ${n}`,i=new R(r);return(o=[])=>{let s=Zu();if(!s||s.injector.get(Xm,!1)){const a=[...t,...o,{provide:i,useValue:!0}];e?e(a):function TM(e){if(Vn&&!Vn.get(Xm,!1))throw new C(400,!1);Vn=e;const n=e.get(ry);(function ey(e){const n=e.get(Wm,null);n&&n.forEach(t=>t())})(e)}(function ny(e=[],n){return Pn.create({name:n,providers:[{provide:$l,useValue:"platform"},{provide:Yu,useValue:new Set([()=>Vn=null])},...e]})}(a,r))}return function xM(e){const n=Zu();if(!n)throw new C(401,!1);return n}()}}function Zu(){return Vn?.get(ry)??null}let ry=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function oy(e,n){let t;return t="noop"===e?new EM:("zone.js"===e?void 0:e)||new qe(n),t}(r?.ngZone,function iy(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(r)),o=[{provide:qe,useValue:i}];return i.run(()=>{const s=Pn.create({providers:o,parent:this.injector,name:t.moduleType.name}),a=t.create(s),l=a.injector.get(jr,null);if(!l)throw new C(402,!1);return i.runOutsideAngular(()=>{const u=i.onError.subscribe({next:c=>{l.handleError(c)}});a.onDestroy(()=>{Ls(this._modules,a),u.unsubscribe()})}),function sy(e,n,t){try{const r=t();return Es(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}(l,i,()=>{const u=a.injector.get(Rs);return u.runInitializers(),u.donePromise.then(()=>(function Ng(e){bt(e,"Expected localeId to be defined"),"string"==typeof e&&(xg=e.toLowerCase().replace(/_/g,"-"))}(a.injector.get(bn,ti)||ti),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=ay({},r);return function IM(e,n,t){const r=new Mu(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(Qu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new C(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new C(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Yu,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(J(Pn))},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function ay(e,n){return Array.isArray(n)?n.reduce(ay,e):{...e,...n}}let Qu=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Y(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new Y(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{qe.assertNotInAngularZone(),Uu(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{qe.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),u.unsubscribe()}});this.isStable=MD(o,s.pipe(function TD(e={}){const{connector:n=(()=>new Ea),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,l,u=0,c=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=l=void 0,c=d=!1},p=()=>{const g=s;h(),g?.unsubscribe()};return Di((g,y)=>{u++,!d&&!c&&f();const v=l=l??n();y.add(()=>{u--,0===u&&!d&&!c&&(a=xa(p,i))}),v.subscribe(y),!s&&u>0&&(s=new Kn({next:b=>v.next(b),error:b=>{d=!0,f(),a=xa(h,t,b),v.error(b)},complete:()=>{c=!0,f(),a=xa(h,r),v.complete()}}),an(g).subscribe(s))})(o)}}()))}bootstrap(t,r){const i=t instanceof Vh;if(!this._injector.get(Rs).done){!i&&function Ii(e){const n=ie(e)||je(e)||ot(e);return null!==n&&n.standalone}(t);throw new C(405,En)}let s;s=i?t:this._injector.get(ds).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function MM(e){return e.isBoundToModule}(s)?void 0:this._injector.get(ni),u=s.create(Pn.NULL,[],r||s.selector,a),c=u.location.nativeElement,d=u.injector.get(Jm,null);return d?.registerApplication(c),u.onDestroy(()=>{this.detachView(u.hostView),Ls(this.components,u),d?.unregisterApplication(c)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new C(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Ls(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(SM,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Ls(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new C(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(t){return new(t||e)(J(qe),J(kr),J(jr))},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Ls(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}class hy{constructor(){}supports(n){return ws(n)}create(n){return new jM(n)}}const VM=(e,n)=>n;class jM{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||VM}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<gy(r,i,o)?t:r,a=gy(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,c=l-i;if(u!=c){for(let f=0;f<u;f++){const h=f<o.length?o[f]:o[f]=0,p=h+f;c<=p&&p<u&&(o[f]=h+1)}o[s.previousIndex]=c-u}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!ws(n))throw new C(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function l0(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[Symbol.iterator]();let r;for(;!(r=t.next()).done;)n(r.value)}}(n,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let o;return null===n?o=this._itTail:(o=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,i)):n=this._addAfter(new BM(t,r),o,i),n}_verifyReinsertion(n,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,o=n._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){const i=null===t?this._itHead:t._next;return n._next=i,n._prev=t,null===i?this._itTail=n:i._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new py),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,r=n._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new py),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class BM{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $M{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const t=n._prevDup,r=n._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class py{constructor(){this.map=new Map}put(n){const t=n.trackById;let r=this.map.get(t);r||(r=new $M,this.map.set(t,r)),r.add(n)}get(n,t){const i=this.map.get(n);return i?i.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gy(e,n,t){const r=e.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}class my{constructor(){}supports(n){return n instanceof Map||du(n)}create(){return new HM}}class HM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let t;for(t=this._mapHead;null!==t;t=t._next)n(t)}forEachPreviousItem(n){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)n(t)}forEachChangedItem(n){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}diff(n){if(n){if(!(n instanceof Map||du(n)))throw new C(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,t){if(n){const r=n._prev;return t._next=n,t._prev=r,n._prev=t,r&&(r._next=t),n===this._mapHead&&(this._mapHead=t),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(n,t){if(this._records.has(n)){const i=this._records.get(n);this._maybeAddToChanges(i,t);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new UM(n);return this._records.set(n,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,t){Object.is(t,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=t,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,t){n instanceof Map?n.forEach(t):Object.keys(n).forEach(r=>t(n[r],r))}}class UM{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function yy(){return new Bs([new hy])}let Bs=(()=>{class e{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||yy()),deps:[[e,new es,new Xo]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new C(901,!1)}}return e.\u0275prov=le({token:e,providedIn:"root",factory:yy}),e})();function _y(){return new oo([new my])}let oo=(()=>{class e{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||_y()),deps:[[e,new es,new Xo]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new C(901,!1)}}return e.\u0275prov=le({token:e,providedIn:"root",factory:_y}),e})();const WM=ty(null,"core",[]);let qM=(()=>{class e{constructor(t){}}return e.\u0275fac=function(t){return new(t||e)(J(Qu))},e.\u0275mod=dn({type:e}),e.\u0275inj=Ht({}),e})(),rc=null;function oi(){return rc}class ZM{}const Cn=new R("DocumentToken"),Dy={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var ut=(()=>((ut=ut||{})[ut.Decimal=0]="Decimal",ut[ut.Percent=1]="Percent",ut[ut.Currency=2]="Currency",ut[ut.Scientific=3]="Scientific",ut))(),Ie=(()=>((Ie=Ie||{})[Ie.Format=0]="Format",Ie[Ie.Standalone=1]="Standalone",Ie))(),z=(()=>((z=z||{})[z.Narrow=0]="Narrow",z[z.Abbreviated=1]="Abbreviated",z[z.Wide=2]="Wide",z[z.Short=3]="Short",z))(),_e=(()=>((_e=_e||{})[_e.Short=0]="Short",_e[_e.Medium=1]="Medium",_e[_e.Long=2]="Long",_e[_e.Full=3]="Full",_e))(),x=(()=>((x=x||{})[x.Decimal=0]="Decimal",x[x.Group=1]="Group",x[x.List=2]="List",x[x.PercentSign=3]="PercentSign",x[x.PlusSign=4]="PlusSign",x[x.MinusSign=5]="MinusSign",x[x.Exponential=6]="Exponential",x[x.SuperscriptingExponent=7]="SuperscriptingExponent",x[x.PerMille=8]="PerMille",x[x.Infinity=9]="Infinity",x[x.NaN=10]="NaN",x[x.TimeSeparator=11]="TimeSeparator",x[x.CurrencyDecimal=12]="CurrencyDecimal",x[x.CurrencyGroup=13]="CurrencyGroup",x))();function $s(e,n){return Tt(tt(e)[S.DateFormat],n)}function Hs(e,n){return Tt(tt(e)[S.TimeFormat],n)}function Us(e,n){return Tt(tt(e)[S.DateTimeFormat],n)}function Mt(e,n){const t=tt(e),r=t[S.NumberSymbols][n];if(typeof r>"u"){if(n===x.CurrencyDecimal)return t[S.NumberSymbols][x.Decimal];if(n===x.CurrencyGroup)return t[S.NumberSymbols][x.Group]}return r}function wy(e){if(!e[S.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[S.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Tt(e,n){for(let t=n;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new Error("Locale data API: locale data undefined")}function oc(e){const[n,t]=e.split(":");return{hours:+n,minutes:+t}}const uT=2,dT=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,so={},fT=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ke=(()=>((ke=ke||{})[ke.Short=0]="Short",ke[ke.ShortGMT=1]="ShortGMT",ke[ke.Long=2]="Long",ke[ke.Extended=3]="Extended",ke))(),O=(()=>((O=O||{})[O.FullYear=0]="FullYear",O[O.Month=1]="Month",O[O.Date=2]="Date",O[O.Hours=3]="Hours",O[O.Minutes=4]="Minutes",O[O.Seconds=5]="Seconds",O[O.FractionalSeconds=6]="FractionalSeconds",O[O.Day=7]="Day",O))(),$=(()=>(($=$||{})[$.DayPeriods=0]="DayPeriods",$[$.Days=1]="Days",$[$.Months=2]="Months",$[$.Eras=3]="Eras",$))();function hT(e,n,t,r){let i=function bT(e){if(Cy(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[i,o=1,s=1]=e.split("-").map(a=>+a);return Gs(i,o-1,s)}const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let r;if(r=e.match(dT))return function ET(e){const n=new Date(0);let t=0,r=0;const i=e[8]?n.setUTCFullYear:n.setFullYear,o=e[8]?n.setUTCHours:n.setHours;e[9]&&(t=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));const s=Number(e[4]||0)-t,a=Number(e[5]||0)-r,l=Number(e[6]||0),u=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return o.call(n,s,a,l,u),n}(r)}const n=new Date(e);if(!Cy(n))throw new Error(`Unable to convert "${e}" into a date`);return n}(e);n=Sn(t,n)||n;let a,s=[];for(;n;){if(a=fT.exec(n),!a){s.push(n);break}{s=s.concat(a.slice(1));const c=s.pop();if(!c)break;n=c}}let l=i.getTimezoneOffset();r&&(l=Ey(r,l),i=function wT(e,n,t){const r=t?-1:1,i=e.getTimezoneOffset();return function DT(e,n){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+n),e}(e,r*(Ey(n,i)-i))}(i,r,!0));let u="";return s.forEach(c=>{const d=function vT(e){if(ac[e])return ac[e];let n;switch(e){case"G":case"GG":case"GGG":n=fe($.Eras,z.Abbreviated);break;case"GGGG":n=fe($.Eras,z.Wide);break;case"GGGGG":n=fe($.Eras,z.Narrow);break;case"y":n=Ne(O.FullYear,1,0,!1,!0);break;case"yy":n=Ne(O.FullYear,2,0,!0,!0);break;case"yyy":n=Ne(O.FullYear,3,0,!1,!0);break;case"yyyy":n=Ne(O.FullYear,4,0,!1,!0);break;case"Y":n=Ks(1);break;case"YY":n=Ks(2,!0);break;case"YYY":n=Ks(3);break;case"YYYY":n=Ks(4);break;case"M":case"L":n=Ne(O.Month,1,1);break;case"MM":case"LL":n=Ne(O.Month,2,1);break;case"MMM":n=fe($.Months,z.Abbreviated);break;case"MMMM":n=fe($.Months,z.Wide);break;case"MMMMM":n=fe($.Months,z.Narrow);break;case"LLL":n=fe($.Months,z.Abbreviated,Ie.Standalone);break;case"LLLL":n=fe($.Months,z.Wide,Ie.Standalone);break;case"LLLLL":n=fe($.Months,z.Narrow,Ie.Standalone);break;case"w":n=sc(1);break;case"ww":n=sc(2);break;case"W":n=sc(1,!0);break;case"d":n=Ne(O.Date,1);break;case"dd":n=Ne(O.Date,2);break;case"c":case"cc":n=Ne(O.Day,1);break;case"ccc":n=fe($.Days,z.Abbreviated,Ie.Standalone);break;case"cccc":n=fe($.Days,z.Wide,Ie.Standalone);break;case"ccccc":n=fe($.Days,z.Narrow,Ie.Standalone);break;case"cccccc":n=fe($.Days,z.Short,Ie.Standalone);break;case"E":case"EE":case"EEE":n=fe($.Days,z.Abbreviated);break;case"EEEE":n=fe($.Days,z.Wide);break;case"EEEEE":n=fe($.Days,z.Narrow);break;case"EEEEEE":n=fe($.Days,z.Short);break;case"a":case"aa":case"aaa":n=fe($.DayPeriods,z.Abbreviated);break;case"aaaa":n=fe($.DayPeriods,z.Wide);break;case"aaaaa":n=fe($.DayPeriods,z.Narrow);break;case"b":case"bb":case"bbb":n=fe($.DayPeriods,z.Abbreviated,Ie.Standalone,!0);break;case"bbbb":n=fe($.DayPeriods,z.Wide,Ie.Standalone,!0);break;case"bbbbb":n=fe($.DayPeriods,z.Narrow,Ie.Standalone,!0);break;case"B":case"BB":case"BBB":n=fe($.DayPeriods,z.Abbreviated,Ie.Format,!0);break;case"BBBB":n=fe($.DayPeriods,z.Wide,Ie.Format,!0);break;case"BBBBB":n=fe($.DayPeriods,z.Narrow,Ie.Format,!0);break;case"h":n=Ne(O.Hours,1,-12);break;case"hh":n=Ne(O.Hours,2,-12);break;case"H":n=Ne(O.Hours,1);break;case"HH":n=Ne(O.Hours,2);break;case"m":n=Ne(O.Minutes,1);break;case"mm":n=Ne(O.Minutes,2);break;case"s":n=Ne(O.Seconds,1);break;case"ss":n=Ne(O.Seconds,2);break;case"S":n=Ne(O.FractionalSeconds,1);break;case"SS":n=Ne(O.FractionalSeconds,2);break;case"SSS":n=Ne(O.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=Ws(ke.Short);break;case"ZZZZZ":n=Ws(ke.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=Ws(ke.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=Ws(ke.Long);break;default:return null}return ac[e]=n,n}(c);u+=d?d(i,t,l):"''"===c?"'":c.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Gs(e,n,t){const r=new Date(0);return r.setFullYear(e,n,t),r.setHours(0,0,0),r}function Sn(e,n){const t=function XM(e){return tt(e)[S.LocaleId]}(e);if(so[t]=so[t]||{},so[t][n])return so[t][n];let r="";switch(n){case"shortDate":r=$s(e,_e.Short);break;case"mediumDate":r=$s(e,_e.Medium);break;case"longDate":r=$s(e,_e.Long);break;case"fullDate":r=$s(e,_e.Full);break;case"shortTime":r=Hs(e,_e.Short);break;case"mediumTime":r=Hs(e,_e.Medium);break;case"longTime":r=Hs(e,_e.Long);break;case"fullTime":r=Hs(e,_e.Full);break;case"short":const i=Sn(e,"shortTime"),o=Sn(e,"shortDate");r=zs(Us(e,_e.Short),[i,o]);break;case"medium":const s=Sn(e,"mediumTime"),a=Sn(e,"mediumDate");r=zs(Us(e,_e.Medium),[s,a]);break;case"long":const l=Sn(e,"longTime"),u=Sn(e,"longDate");r=zs(Us(e,_e.Long),[l,u]);break;case"full":const c=Sn(e,"fullTime"),d=Sn(e,"fullDate");r=zs(Us(e,_e.Full),[c,d])}return r&&(so[t][n]=r),r}function zs(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,function(t,r){return null!=n&&r in n?n[r]:t})),e}function jt(e,n,t="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,o=t));let s=String(e);for(;s.length<n;)s="0"+s;return r&&(s=s.slice(s.length-n)),o+s}function Ne(e,n,t=0,r=!1,i=!1){return function(o,s){let a=function gT(e,n){switch(e){case O.FullYear:return n.getFullYear();case O.Month:return n.getMonth();case O.Date:return n.getDate();case O.Hours:return n.getHours();case O.Minutes:return n.getMinutes();case O.Seconds:return n.getSeconds();case O.FractionalSeconds:return n.getMilliseconds();case O.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,o);if((t>0||a>-t)&&(a+=t),e===O.Hours)0===a&&-12===t&&(a=12);else if(e===O.FractionalSeconds)return function pT(e,n){return jt(e,3).substring(0,n)}(a,n);const l=Mt(s,x.MinusSign);return jt(a,n,l,r,i)}}function fe(e,n,t=Ie.Format,r=!1){return function(i,o){return function mT(e,n,t,r,i,o){switch(t){case $.Months:return function nT(e,n,t){const r=tt(e),o=Tt([r[S.MonthsFormat],r[S.MonthsStandalone]],n);return Tt(o,t)}(n,i,r)[e.getMonth()];case $.Days:return function tT(e,n,t){const r=tt(e),o=Tt([r[S.DaysFormat],r[S.DaysStandalone]],n);return Tt(o,t)}(n,i,r)[e.getDay()];case $.DayPeriods:const s=e.getHours(),a=e.getMinutes();if(o){const u=function sT(e){const n=tt(e);return wy(n),(n[S.ExtraData][2]||[]).map(r=>"string"==typeof r?oc(r):[oc(r[0]),oc(r[1])])}(n),c=function aT(e,n,t){const r=tt(e);wy(r);const o=Tt([r[S.ExtraData][0],r[S.ExtraData][1]],n)||[];return Tt(o,t)||[]}(n,i,r),d=u.findIndex(f=>{if(Array.isArray(f)){const[h,p]=f,g=s>=h.hours&&a>=h.minutes,y=s<p.hours||s===p.hours&&a<p.minutes;if(h.hours<p.hours){if(g&&y)return!0}else if(g||y)return!0}else if(f.hours===s&&f.minutes===a)return!0;return!1});if(-1!==d)return c[d]}return function eT(e,n,t){const r=tt(e),o=Tt([r[S.DayPeriodsFormat],r[S.DayPeriodsStandalone]],n);return Tt(o,t)}(n,i,r)[s<12?0:1];case $.Eras:return function rT(e,n){return Tt(tt(e)[S.Eras],n)}(n,r)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,o,e,n,t,r)}}function Ws(e){return function(n,t,r){const i=-1*r,o=Mt(t,x.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case ke.Short:return(i>=0?"+":"")+jt(s,2,o)+jt(Math.abs(i%60),2,o);case ke.ShortGMT:return"GMT"+(i>=0?"+":"")+jt(s,1,o);case ke.Long:return"GMT"+(i>=0?"+":"")+jt(s,2,o)+":"+jt(Math.abs(i%60),2,o);case ke.Extended:return 0===r?"Z":(i>=0?"+":"")+jt(s,2,o)+":"+jt(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}const yT=0,qs=4;function by(e){return Gs(e.getFullYear(),e.getMonth(),e.getDate()+(qs-e.getDay()))}function sc(e,n=!1){return function(t,r){let i;if(n){const o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{const o=by(t),s=function _T(e){const n=Gs(e,yT,1).getDay();return Gs(e,0,1+(n<=qs?qs:qs+7)-n)}(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return jt(i,e,Mt(r,x.MinusSign))}}function Ks(e,n=!1){return function(t,r){return jt(by(t).getFullYear(),e,Mt(r,x.MinusSign),n)}}const ac={};function Ey(e,n){e=e.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?n:t}function Cy(e){return e instanceof Date&&!isNaN(e.valueOf())}const CT=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Sy=22,Ys=".",ao="0",ST=";",IT=",",lc="#",Iy="\xa4";function TT(e,n,t,r,i){const s=function cc(e,n="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(ST),i=r[0],o=r[1],s=-1!==i.indexOf(Ys)?i.split(Ys):[i.substring(0,i.lastIndexOf(ao)+1),i.substring(i.lastIndexOf(ao)+1)],a=s[0],l=s[1]||"";t.posPre=a.substring(0,a.indexOf(lc));for(let c=0;c<l.length;c++){const d=l.charAt(c);d===ao?t.minFrac=t.maxFrac=c+1:d===lc?t.maxFrac=c+1:t.posSuf+=d}const u=a.split(IT);if(t.gSize=u[1]?u[1].length:0,t.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){const c=i.length-t.posPre.length-t.posSuf.length,d=o.indexOf(lc);t.negPre=o.substring(0,d).replace(/'/g,""),t.negSuf=o.slice(d+c).replace(/'/g,"")}else t.negPre=n+t.posPre,t.negSuf=t.posSuf;return t}(function ic(e,n){return tt(e)[S.NumberFormats][n]}(n,ut.Currency),Mt(n,x.MinusSign));return s.minFrac=function cT(e){let n;const t=Dy[e];return t&&(n=t[2]),"number"==typeof n?n:uT}(r),s.maxFrac=s.minFrac,function uc(e,n,t,r,i,o,s=!1){let a="",l=!1;if(isFinite(e)){let u=function OT(e){let r,i,o,s,a,n=Math.abs(e)+"",t=0;for((i=n.indexOf(Ys))>-1&&(n=n.replace(Ys,"")),(o=n.search(/e/i))>0?(i<0&&(i=o),i+=+n.slice(o+1),n=n.substring(0,o)):i<0&&(i=n.length),o=0;n.charAt(o)===ao;o++);if(o===(a=n.length))r=[0],i=1;else{for(a--;n.charAt(a)===ao;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(n.charAt(o))}return i>Sy&&(r=r.splice(0,Sy-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(e);s&&(u=function NT(e){if(0===e.digits[0])return e;const n=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===n?e.digits.push(0,0):1===n&&e.digits.push(0),e.integerLen+=2),e}(u));let c=n.minInt,d=n.minFrac,f=n.maxFrac;if(o){const b=o.match(CT);if(null===b)throw new Error(`${o} is not a valid digit info`);const _=b[1],I=b[3],W=b[5];null!=_&&(c=dc(_)),null!=I&&(d=dc(I)),null!=W?f=dc(W):null!=I&&d>f&&(f=d)}!function FT(e,n,t){if(n>t)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${t}).`);let r=e.digits,i=r.length-e.integerLen;const o=Math.min(Math.max(n,i),t);let s=o+e.integerLen,a=r[s];if(s>0){r.splice(Math.max(e.integerLen,s));for(let d=s;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let d=1;d<s;d++)r[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let l=0!==o;const u=n+e.integerLen,c=r.reduceRight(function(d,f,h,p){return p[h]=(f+=d)<10?f:f-10,l&&(0===p[h]&&h>=u?p.pop():l=!1),f>=10?1:0},0);c&&(r.unshift(c),e.integerLen++)}(u,d,f);let h=u.digits,p=u.integerLen;const g=u.exponent;let y=[];for(l=h.every(b=>!b);p<c;p++)h.unshift(0);for(;p<0;p++)h.unshift(0);p>0?y=h.splice(p,h.length):(y=h,h=[0]);const v=[];for(h.length>=n.lgSize&&v.unshift(h.splice(-n.lgSize,h.length).join(""));h.length>n.gSize;)v.unshift(h.splice(-n.gSize,h.length).join(""));h.length&&v.unshift(h.join("")),a=v.join(Mt(t,r)),y.length&&(a+=Mt(t,i)+y.join("")),g&&(a+=Mt(t,x.Exponential)+"+"+g)}else a=Mt(t,x.Infinity);return a=e<0&&!l?n.negPre+a+n.negSuf:n.posPre+a+n.posSuf,a}(e,s,n,x.CurrencyGroup,x.CurrencyDecimal,i).replace(Iy,t).replace(Iy,"").trim()}function dc(e){const n=parseInt(e);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+e);return n}class VT{constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ny=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new VT(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),Oy(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Oy(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return e.\u0275fac=function(t){return new(t||e)(w(en),w(wn),w(Bs))},e.\u0275dir=L({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function Oy(e,n){e.context.$implicit=n.item}let pc=(()=>{class e{constructor(t,r){this._viewContainer=t,this._context=new BT,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Fy("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Fy("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return e.\u0275fac=function(t){return new(t||e)(w(en),w(wn))},e.\u0275dir=L({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class BT{constructor(){this.$implicit=null,this.ngIf=null}}function Fy(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${ce(n)}'.`)}let Ry=(()=>{class e{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,o]=t.split("."),s=-1===i.indexOf("-")?void 0:at.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return e.\u0275fac=function(t){return new(t||e)(w(Pt),w(oo),w(rr))},e.\u0275dir=L({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),e})();function Bt(e,n){return new C(2100,!1)}const eA=new R("DATE_PIPE_DEFAULT_TIMEZONE"),tA=new R("DATE_PIPE_DEFAULT_OPTIONS");let ky=(()=>{class e{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(null==t||""===t||t!=t)return null;try{return hT(t,r??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw Bt()}}}return e.\u0275fac=function(t){return new(t||e)(w(bn,16),w(eA,24),w(tA,24))},e.\u0275pipe=it({name:"date",type:e,pure:!0,standalone:!0}),e})(),Vy=(()=>{class e{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",o,s){if(!function yc(e){return!(null==e||""===e||e!=e)}(t))return null;s=s||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;"code"!==i&&(a="symbol"===i||"symbol-narrow"===i?function lT(e,n,t="en"){const r=function iT(e){return tt(e)[S.Currencies]}(t)[e]||Dy[e]||[],i=r[1];return"narrow"===n&&"string"==typeof i?i:r[0]||e}(a,"symbol"===i?"wide":"narrow",s):i);try{return TT(function _c(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}(t),s,a,r,o)}catch(l){throw Bt()}}}return e.\u0275fac=function(t){return new(t||e)(w(bn,16),w(pM,16))},e.\u0275pipe=it({name:"currency",type:e,pure:!0,standalone:!0}),e})();let cA=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=dn({type:e}),e.\u0275inj=Ht({}),e})();class HA extends ZM{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class wc extends HA{static makeCurrent(){!function YM(e){rc||(rc=e)}(new wc)}onAndCancel(n,t,r){return n.addEventListener(t,r,!1),()=>{n.removeEventListener(t,r,!1)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function UA(){return uo=uo||document.querySelector("base"),uo?uo.getAttribute("href"):null}();return null==t?null:function GA(e){Js=Js||document.createElement("a"),Js.setAttribute("href",e);const n=Js.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){uo=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function RT(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}(document.cookie,n)}}let Js,uo=null;const zy=new R("TRANSITION_ID"),WA=[{provide:Gm,useFactory:function zA(e,n,t){return()=>{t.get(Rs).donePromise.then(()=>{const r=oi(),i=n.querySelectorAll(`style[ng-transition="${e}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[zy,Cn,Pn],multi:!0}];let KA=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();const Xs=new R("EventManagerPlugins");let ea=(()=>{class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return e.\u0275fac=function(t){return new(t||e)(J(Xs),J(qe))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();class Wy{constructor(n){this._doc=n}addGlobalEventListener(n,t,r){const i=oi().getGlobalEventTarget(this._doc,n);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let qy=(()=>{class e{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let o=i.get(t)??0;return o+=r,o>0?i.set(t,o):i.delete(t),o}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})(),co=(()=>{class e extends qy{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(o=>o.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const o=this.styleRef.get(r);o?o.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return e.\u0275fac=function(t){return new(t||e)(J(Cn))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();const bc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ec=/%COMP%/g,Zy=new R("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Qy(e,n){return n.flat(100).map(t=>t.replace(Ec,e))}function Jy(e){return n=>{if("__ngUnwrap__"===n)return e;!1===e(n)&&(n.preventDefault(),n.returnValue=!1)}}let Cc=(()=>{class e{constructor(t,r,i,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=o,this.rendererByCompId=new Map,this.defaultRenderer=new Sc(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof t_?i.applyToHost(t):i instanceof Ic&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.eventManager,a=this.sharedStylesHost,l=this.removeStylesOnCompDestory;switch(r.encapsulation){case Gt.Emulated:o=new t_(s,a,r,this.appId,l);break;case Gt.ShadowDom:return new tx(s,a,t,r);default:o=new Ic(s,a,r,l)}o.onDestroy=()=>i.delete(r.id),i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(J(ea),J(co),J(io),J(Zy))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();class Sc{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?document.createElementNS(bc[t]||t,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,t){(e_(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(e_(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let r="string"==typeof n?document.querySelector(n):n;if(!r)throw new Error(`The selector "${n}" did not match any elements`);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;const o=bc[i];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){const i=bc[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(at.DashCase|at.Important)?n.style.setProperty(t,r,i&at.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&at.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n[t]=r}setValue(n,t){n.nodeValue=t}listen(n,t,r){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,t,Jy(r)):this.eventManager.addEventListener(n,t,Jy(r))}}function e_(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class tx extends Sc{constructor(n,t,r,i){super(n),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Qy(i.id,i.styles);for(const s of o){const a=document.createElement("style");a.textContent=s,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ic extends Sc{constructor(n,t,r,i,o=r.id){super(n),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=Qy(o,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class t_ extends Ic{constructor(n,t,r,i,o){const s=i+"-"+r.id;super(n,t,r,o,s),this.contentAttr=function JA(e){return"_ngcontent-%COMP%".replace(Ec,e)}(s),this.hostAttr=function XA(e){return"_nghost-%COMP%".replace(Ec,e)}(s)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}}let nx=(()=>{class e extends Wy{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return e.\u0275fac=function(t){return new(t||e)(J(Cn))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();const n_=["alt","control","meta","shift"],rx={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ix={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let ox=(()=>{class e extends Wy{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>oi().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),n_.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=rx[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),n_.forEach(s=>{s!==i&&(0,ix[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return e.\u0275fac=function(t){return new(t||e)(J(Cn))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();const ux=ty(WM,"browser",[{provide:qm,useValue:"browser"},{provide:Wm,useValue:function sx(){wc.makeCurrent()},multi:!0},{provide:Cn,useFactory:function lx(){return function Bb(e){Ol=e}(document),document},deps:[]}]),o_=new R(""),s_=[{provide:ks,useClass:class qA{addToWindow(n){he.getAngularTestability=(r,i=!0)=>{const o=n.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},he.getAllAngularTestabilities=()=>n.getAllTestabilities(),he.getAllAngularRootElements=()=>n.getAllRootElements(),he.frameworkStabilizers||(he.frameworkStabilizers=[]),he.frameworkStabilizers.push(r=>{const i=he.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(n,t,r){return null==t?null:n.getTestability(t)??(r?oi().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:Jm,useClass:Wu,deps:[qe,qu,ks]},{provide:Wu,useClass:Wu,deps:[qe,qu,ks]}],a_=[{provide:$l,useValue:"root"},{provide:jr,useFactory:function ax(){return new jr},deps:[]},{provide:Xs,useClass:nx,multi:!0,deps:[Cn,qe,qm]},{provide:Xs,useClass:ox,multi:!0,deps:[Cn]},{provide:Cc,useClass:Cc,deps:[ea,co,io,Zy]},{provide:Bh,useExisting:Cc},{provide:qy,useExisting:co},{provide:co,useClass:co,deps:[Cn]},{provide:ea,useClass:ea,deps:[Xs,qe]},{provide:class gA{},useClass:KA,deps:[]},[]];let cx=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:io,useValue:t.appId},{provide:zy,useExisting:io},WA]}}}return e.\u0275fac=function(t){return new(t||e)(J(o_,12))},e.\u0275mod=dn({type:e}),e.\u0275inj=Ht({providers:[...a_,...s_],imports:[cA,qM]}),e})();typeof window<"u"&&window;class Ac extends Error{constructor(n,t="FunctionsError",r){super(n),this.name=t,this.context=r}}class Dx extends Ac{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class wx extends Ac{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class bx extends Ac{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}class Cx{constructor(n,{headers:t={},customFetch:r}={}){this.url=n,this.headers=t,this.fetch=(e=>{let n;return n=e||(typeof fetch>"u"?(...t)=>function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,l)}u((r=r.apply(e,n||[])).next())})}(void 0,void 0,void 0,function*(){return yield(yield Promise.resolve().then(we.t.bind(we,472,23))).fetch(...t)}):fetch),(...t)=>n(...t)})(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,t={}){var r;return function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,l)}u((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{const{headers:i,method:o,body:s}=t;let l,a={};s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=s):"string"==typeof s?(a["Content-Type"]="text/plain",l=s):typeof FormData<"u"&&s instanceof FormData?l=s:(a["Content-Type"]="application/json",l=JSON.stringify(s)));const u=yield this.fetch(`${this.url}/${n}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:l}).catch(h=>{throw new Dx(h)}),c=u.headers.get("x-relay-error");if(c&&"true"===c)throw new wx(u);if(!u.ok)throw new bx(u);let f,d=(null!==(r=u.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return f="application/json"===d?yield u.json():"application/octet-stream"===d?yield u.blob():"multipart/form-data"===d?yield u.formData():yield u.text(),{data:f,error:null}}catch(i){return{data:null,error:i}}})}}function c_(e,n,t,r,i,o,s){try{var a=e[o](s),l=a.value}catch(u){return void t(u)}a.done?n(l):Promise.resolve(l).then(r,i)}function ct(e){return function(){var n=this,t=arguments;return new Promise(function(r,i){var o=e.apply(n,t);function s(l){c_(o,r,i,s,a,"next",l)}function a(l){c_(o,r,i,s,a,"throw",l)}s(void 0)})}}var d_=we(472),f_=we.n(d_);class Sx{constructor(n){this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=n.headers,this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=n.shouldThrowOnError,this.signal=n.signal,this.isMaybeSingle=n.isMaybeSingle,this.fetch=n.fetch?n.fetch:typeof fetch>"u"?f_():fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(n,t){var r=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let o=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(){var s=ct(function*(a){var l,u,c;let d=null,f=null,h=null,p=a.status,g=a.statusText;if(a.ok){if("HEAD"!==r.method){const _=yield a.text();""===_||(f="text/csv"===r.headers.Accept||r.headers.Accept&&r.headers.Accept.includes("application/vnd.pgrst.plan+text")?_:JSON.parse(_))}const v=null===(l=r.headers.Prefer)||void 0===l?void 0:l.match(/count=(exact|planned|estimated)/),b=null===(u=a.headers.get("content-range"))||void 0===u?void 0:u.split("/");v&&b&&b.length>1&&(h=parseInt(b[1])),r.isMaybeSingle&&"GET"===r.method&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,p=406,g="Not Acceptable"):f=1===f.length?f[0]:null)}else{const v=yield a.text();try{d=JSON.parse(v),Array.isArray(d)&&404===a.status&&(f=[],d=null,p=200,g="OK")}catch{404===a.status&&""===v?(p=204,g="No Content"):d={message:v}}if(d&&r.isMaybeSingle&&!(null===(c=d?.details)||void 0===c)&&c.includes("Results contain 0 rows")&&(d=null,p=200,g="OK"),d&&r.shouldThrowOnError)throw d}return{error:d,data:f,count:h,status:p,statusText:g}});return function(a){return s.apply(this,arguments)}}());return this.shouldThrowOnError||(o=o.catch(s=>{var a,l,u;return{error:{message:`${null!==(a=s?.name)&&void 0!==a?a:"FetchError"}: ${s?.message}`,details:`${null!==(l=s?.stack)&&void 0!==l?l:""}`,hint:"",code:`${null!==(u=s?.code)&&void 0!==u?u:""}`},data:null,count:null,status:0,statusText:""}})),o.then(n,t)}}class Ix extends Sx{select(n){let t=!1;const r=(n??"*").split("").map(i=>/\s/.test(i)&&!t?"":('"'===i&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:t=!0,nullsFirst:r,foreignTable:i}={}){const o=i?`${i}.order`:"order",s=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${s?`${s},`:""}${n}.${t?"asc":"desc"}${void 0===r?"":r?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t}={}){return this.url.searchParams.set(typeof t>"u"?"limit":`${t}.limit`,`${n}`),this}range(n,t,{foreignTable:r}={}){const o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(typeof r>"u"?"offset":`${r}.offset`,`${n}`),this.url.searchParams.set(o,""+(t-n+1)),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.headers.Accept="GET"===this.method?"application/json":"application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){const a=[n?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|");return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${this.headers.Accept}"; options=${a};`,this}rollback(){var n;return(null!==(n=this.headers.Prefer)&&void 0!==n?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class si extends Ix{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}in(n,t){const r=t.map(i=>"string"==typeof i&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`in.(${r})`),this}contains(n,t){return"string"==typeof t?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return"string"==typeof t?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return this.url.searchParams.append(n,"string"==typeof t?`ov.${t}`:`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:r,type:i}={}){let o="";return"plain"===i?o="pl":"phrase"===i?o="ph":"websearch"===i&&(o="w"),this.url.searchParams.append(n,`${o}fts${void 0===r?"":`(${r})`}.${t}`),this}match(n){return Object.entries(n).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(n,t,r){return this.url.searchParams.append(n,`not.${t}.${r}`),this}or(n,{foreignTable:t}={}){return this.url.searchParams.append(t?`${t}.or`:"or",`(${n})`),this}filter(n,t,r){return this.url.searchParams.append(n,`${t}.${r}`),this}}class Mx{constructor(n,{headers:t={},schema:r,fetch:i}){this.url=n,this.headers=t,this.schema=r,this.fetch=i}select(n,{head:t=!1,count:r}={}){const i=t?"HEAD":"GET";let o=!1;const s=(n??"*").split("").map(a=>/\s/.test(a)&&!o?"":('"'===a&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new si({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:t,defaultToNull:r=!0}={}){const o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),t&&o.push(`count=${t}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(n)){const s=n.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){const a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new si({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){const a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(n)){const l=n.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new si({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:t}={}){const i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),this.headers.Prefer=i.join(","),new si({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const r=[];return n&&r.push(`count=${n}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new si({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const Tx={"X-Client-Info":"postgrest-js/1.7.1"};class Ax{constructor(n,{headers:t={},schema:r,fetch:i}={}){this.url=n,this.headers=Object.assign(Object.assign({},Tx),t),this.schema=r,this.fetch=i}from(n){const t=new URL(`${this.url}/${n}`);return new Mx(t,{headers:Object.assign({},this.headers),schema:this.schema,fetch:this.fetch})}rpc(n,t={},{head:r=!1,count:i}={}){let o;const s=new URL(`${this.url}/rpc/${n}`);let a;r?(o="HEAD",Object.entries(t).forEach(([u,c])=>{s.searchParams.append(u,`${c}`)})):(o="POST",a=t);const l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new si({method:o,url:s,headers:l,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}}var xx=we(762);const Nx={"X-Client-Info":"realtime-js/2.7.3"};var ai=(()=>{return(e=ai||(ai={}))[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",ai;var e})(),dt=(()=>{return(e=dt||(dt={})).closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",dt;var e})(),At=(()=>{return(e=At||(At={})).close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",At;var e})(),ta=(()=>((ta||(ta={})).websocket="websocket",ta))(),Bn=(()=>{return(e=Bn||(Bn={})).Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",Bn;var e})();class p_{constructor(n,t){this.callback=n,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class Px{constructor(){this.HEADER_LENGTH=1}decode(n,t){return n.constructor===ArrayBuffer?t(this._binaryDecode(n)):t("string"==typeof n?JSON.parse(n):{})}_binaryDecode(n){const t=new DataView(n),r=new TextDecoder;return this._decodeBroadcast(n,t,r)}_decodeBroadcast(n,t,r){const i=t.getUint8(1),o=t.getUint8(2);let s=this.HEADER_LENGTH+2;const a=r.decode(n.slice(s,s+i));s+=i;const l=r.decode(n.slice(s,s+o));return s+=o,{ref:null,topic:a,event:l,payload:JSON.parse(r.decode(n.slice(s,n.byteLength)))}}}class xc{constructor(n,t,r={},i=1e4){this.channel=n,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null,this.rateLimited=!1}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,"rate limited"===this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()})&&(this.rateLimited=!0))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,t){var r;return this._hasReceived(n)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:n,callback:t}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(n,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:t}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(t))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}class fo{constructor(n,t){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fo.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=fo.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=fo.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,t,r,i){const o=this.cloneDeep(n),s=this.transformState(t),a={},l={};return this.map(o,(u,c)=>{s[u]||(l[u]=c)}),this.map(s,(u,c)=>{const d=o[u];if(d){const f=c.map(y=>y.presence_ref),h=d.map(y=>y.presence_ref),p=c.filter(y=>h.indexOf(y.presence_ref)<0),g=d.filter(y=>f.indexOf(y.presence_ref)<0);p.length>0&&(a[u]=p),g.length>0&&(l[u]=g)}else a[u]=c}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(n,t,r,i){const{joins:o,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var u;const c=null!==(u=n[a])&&void 0!==u?u:[];if(n[a]=this.cloneDeep(l),c.length>0){const d=n[a].map(h=>h.presence_ref),f=c.filter(h=>d.indexOf(h.presence_ref)<0);n[a].unshift(...f)}r(a,c,l)}),this.map(s,(a,l)=>{let u=n[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),n[a]=u,i(a,u,l),0===u.length&&delete n[a]}),n}static map(n,t){return Object.getOwnPropertyNames(n).map(r=>t(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((t,r)=>{const i=n[r];return t[r]="metas"in i?i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):i,t},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ue=(()=>{return(e=ue||(ue={})).abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",ue;var e})();const g_=(e,n,t={})=>{var r;const i=null!==(r=t.skipTypes)&&void 0!==r?r:[];return Object.keys(n).reduce((o,s)=>(o[s]=Rx(s,e,n,i),o),{})},Rx=(e,n,t,r)=>{const o=n.find(a=>a.name===e)?.type,s=t[e];return o&&!r.includes(o)?m_(o,s):Nc(s)},m_=(e,n)=>{if("_"===e.charAt(0)){const t=e.slice(1,e.length);return jx(n,t)}switch(e){case ue.bool:return kx(n);case ue.float4:case ue.float8:case ue.int2:case ue.int4:case ue.int8:case ue.numeric:case ue.oid:return Lx(n);case ue.json:case ue.jsonb:return Vx(n);case ue.timestamp:return Bx(n);default:return Nc(n)}},Nc=e=>e,kx=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Lx=e=>{if("string"==typeof e){const n=parseFloat(e);if(!Number.isNaN(n))return n}return e},Vx=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(n){return console.log(`JSON parse error: ${n}`),e}return e},jx=(e,n)=>{if("string"!=typeof e)return e;const t=e.length-1;if("{"===e[0]&&"}"===e[t]){let o;const s=e.slice(1,t);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>m_(n,a))}return e},Bx=e=>"string"==typeof e?e.replace(" ","T"):e;var y_=function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,l)}u((r=r.apply(e,n||[])).next())})};class Oc{constructor(n,t={config:{}},r){this.topic=n,this.params=t,this.socket=r,this.bindings={},this.state=dt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},t.config),this.timeout=this.socket.timeout,this.joinPush=new xc(this,At.join,this.params,this.timeout),this.rejoinTimer=new p_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=dt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=dt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(At.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new fo(this)}subscribe(n,t=this.timeout){var r,i;if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:s}}=this.params;this._onError(u=>n&&n("CHANNEL_ERROR",u)),this._onClose(()=>n&&n("CLOSED"));const a={},l={broadcast:o,presence:s,postgres_changes:null!==(i=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map(u=>u.filter))&&void 0!==i?i:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:l},a)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:u})=>{var c;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),void 0!==u){const d=this.bindings.postgres_changes,f=null!==(c=d?.length)&&void 0!==c?c:0,h=[];for(let p=0;p<f;p++){const g=d[p],{filter:{event:y,schema:v,table:b,filter:_}}=g,I=u&&u[p];if(!I||I.event!==y||I.schema!==v||I.table!==b||I.filter!==_)return this.unsubscribe(),void(n&&n("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes")));h.push(Object.assign(Object.assign({},g),{id:I.id}))}return this.bindings.postgres_changes=h,void(n&&n("SUBSCRIBED"))}n&&n("SUBSCRIBED")}).receive("error",u=>{n&&n("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{n&&n("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(n,t={}){return y_(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"track",payload:n},t.timeout||this.timeout)})}untrack(n={}){return y_(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"untrack"},n)})}on(n,t,r){return this._on(n,t,r)}send(n,t={}){return new Promise(r=>{var i,o,s;const a=this._push(n.type,n,t.timeout||this.timeout);a.rateLimited&&r("rate limited"),"broadcast"===n.type&&!(null!==(s=null===(o=null===(i=this.params)||void 0===i?void 0:i.config)||void 0===o?void 0:o.broadcast)&&void 0!==s&&s.ack)&&r("ok"),a.receive("ok",()=>r("ok")),a.receive("timeout",()=>r("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=dt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(At.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new xc(this,At.leave,{},n);i.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}_push(n,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new xc(this,n,t,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(n,t,r){return t}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,t,r){var i,o;const s=n.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=At;if(r&&[a,l,u,c].indexOf(s)>=0&&r!==this._joinRef())return;let f=this._onMessage(s,t,r);if(t&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(i=this.bindings.postgres_changes)||void 0===i||i.filter(h=>{var p,g,y;return"*"===(null===(p=h.filter)||void 0===p?void 0:p.event)||(null===(y=null===(g=h.filter)||void 0===g?void 0:g.event)||void 0===y?void 0:y.toLocaleLowerCase())===s}).map(h=>h.callback(f,r)):null===(o=this.bindings[s])||void 0===o||o.filter(h=>{var p,g,y,v,b,_;if(["broadcast","presence","postgres_changes"].includes(s)){if("id"in h){const I=h.id,W=null===(p=h.filter)||void 0===p?void 0:p.event;return I&&(null===(g=t.ids)||void 0===g?void 0:g.includes(I))&&("*"===W||W?.toLocaleLowerCase()===(null===(y=t.data)||void 0===y?void 0:y.type.toLocaleLowerCase()))}{const I=null===(b=null===(v=h?.filter)||void 0===v?void 0:v.event)||void 0===b?void 0:b.toLocaleLowerCase();return"*"===I||I===(null===(_=t?.event)||void 0===_?void 0:_.toLocaleLowerCase())}}return h.type.toLocaleLowerCase()===s}).map(h=>{if("object"==typeof f&&"ids"in f){const p=f.data,{schema:g,table:y,commit_timestamp:v,type:b,errors:_}=p;f=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:v,eventType:b,new:{},old:{},errors:_}),this._getPayloadRecords(p))}h.callback(f,r)})}_isClosed(){return this.state===dt.closed}_isJoined(){return this.state===dt.joined}_isJoining(){return this.state===dt.joining}_isLeaving(){return this.state===dt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,t,r){const i=n.toLocaleLowerCase(),o={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(n,t){const r=n.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!((null===(o=i.type)||void 0===o?void 0:o.toLocaleLowerCase())===r&&Oc.isEqual(i.filter,t))}),this}static isEqual(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const r in n)if(n[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(At.close,{},n)}_onError(n){this._on(At.error,{},t=>n(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=dt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const t={new:{},old:{}};return("INSERT"===n.type||"UPDATE"===n.type)&&(t.new=g_(n.columns,n.record)),("UPDATE"===n.type||"DELETE"===n.type)&&(t.old=g_(n.columns,n.old_record)),t}}var Fc=function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,l)}u((r=r.apply(e,n||[])).next())})};const $x=()=>{};class Hx{constructor(n,t){var r;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=Nx,this.params={},this.timeout=1e4,this.transport=xx.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=$x,this.conn=null,this.sendBuffer=[],this.serializer=new Px,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.eventsPerSecondLimitMs=100,this.inThrottle=!1,this.endPoint=`${n}/${ta.websocket}`,t?.params&&(this.params=t.params),t?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),t?.transport&&(this.transport=t.transport),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const i=null===(r=t?.params)||void 0===r?void 0:r.eventsPerSecond;i&&(this.eventsPerSecondLimitMs=Math.floor(1e3/i)),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=t?.encode?t.encode:(o,s)=>s(JSON.stringify(o)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new p_(()=>Fc(this,void 0,void 0,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n)))}disconnect(n,t){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(n){return Fc(this,void 0,void 0,function*(){const t=yield n.unsubscribe();return 0===this.channels.length&&this.disconnect(),t})}removeAllChannels(){return Fc(this,void 0,void 0,function*(){const n=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),n})}log(n,t,r){this.logger(n,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ai.connecting:return Bn.Connecting;case ai.open:return Bn.Open;case ai.closing:return Bn.Closing;default:return Bn.Closed}}isConnected(){return this.connectionState()===Bn.Open}channel(n,t={config:{}}){this.isConnected()||this.connect();const r=new Oc(`realtime:${n}`,t,this);return this.channels.push(r),r}push(n){const{topic:t,event:r,payload:i,ref:o}=n;let s=()=>{this.encode(n,a=>{var l;null===(l=this.conn)||void 0===l||l.send(a)})};if(this.log("push",`${t} ${r} (${o})`,i),this.isConnected())if(["broadcast","presence","postgres_changes"].includes(r)){if(this._throttle(s)())return"rate limited"}else s();else this.sendBuffer.push(s)}setAuth(n){this.accessToken=n,this.channels.forEach(t=>{n&&t.updateJoinPayload({access_token:n}),t.joinedOnce&&t._isJoined()&&t._push(At.access_token,{access_token:n})})}_makeRef(){let n=this.ref+1;return this.ref=n===this.ref?0:n,this.ref.toString()}_leaveOpenTopic(n){let t=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${n}"`),t.unsubscribe())}_remove(n){this.channels=this.channels.filter(t=>t._joinRef()!==n._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}_onConnMessage(n){this.decode(n.data,t=>{let{topic:r,event:i,payload:o,ref:s}=t;(s&&s===this.pendingHeartbeatRef||i===o?.type)&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,o),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,o,s)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(n=>n())}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(n))}_onConnError(n){this.log("transport",n.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(At.error))}_appendParams(n,t){if(0===Object.keys(t).length)return n;const r=n.match(/\?/)?"&":"?";return`${n}${r}${new URLSearchParams(t)}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_sendHeartbeat(){var n;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(n=this.conn)||void 0===n||n.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_throttle(n,t=this.eventsPerSecondLimitMs){return()=>!!this.inThrottle||(n(),t>0&&(this.inThrottle=!0,setTimeout(()=>{this.inThrottle=!1},t)),!1)}}class Pc extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function Ke(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class Ux extends Pc{constructor(n,t){super(n),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class __ extends Pc{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}}var v_=function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,l)}u((r=r.apply(e,n||[])).next())})};const D_=e=>{let n;return n=e||(typeof fetch>"u"?(...t)=>v_(void 0,void 0,void 0,function*(){return yield(yield Promise.resolve().then(we.t.bind(we,472,23))).fetch(...t)}):fetch),(...t)=>n(...t)};var li=function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,l)}u((r=r.apply(e,n||[])).next())})};const Rc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),zx=(e,n)=>li(void 0,void 0,void 0,function*(){const t=yield v_(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Promise.resolve().then(we.t.bind(we,472,23))).Response:Response});e instanceof t?e.json().then(r=>{n(new Ux(Rc(r),e.status||500))}).catch(r=>{n(new __(Rc(r),r))}):n(new __(Rc(e),e))}),Wx=(e,n,t,r)=>{const i={method:e,headers:n?.headers||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json"},n?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};function na(e,n,t,r,i,o){return li(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(t,Wx(n,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>zx(l,a))})})}function kc(e,n,t,r){return li(this,void 0,void 0,function*(){return na(e,"GET",n,t,r)})}function $n(e,n,t,r,i){return li(this,void 0,void 0,function*(){return na(e,"POST",n,r,i,t)})}function qx(e,n,t,r,i){return li(this,void 0,void 0,function*(){return na(e,"PUT",n,r,i,t)})}function w_(e,n,t,r,i){return li(this,void 0,void 0,function*(){return na(e,"DELETE",n,r,i,t)})}var xt=function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,l)}u((r=r.apply(e,n||[])).next())})};const Kx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},b_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Yx{constructor(n,t={},r,i){this.url=n,this.headers=t,this.bucketId=r,this.fetch=D_(i)}uploadOrUpdate(n,t,r,i){return xt(this,void 0,void 0,function*(){try{let o;const s=Object.assign(Object.assign({},b_),i),a=Object.assign(Object.assign({},this.headers),"POST"===n&&{"x-upsert":String(s.upsert)});typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl)):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType);const l=this._removeEmptyFolders(t),u=this._getFinalPath(l),c=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:n,body:o,headers:a},s?.duplex?{duplex:s.duplex}:{}));return c.ok?{data:{path:l},error:null}:{data:null,error:yield c.json()}}catch(o){if(Ke(o))return{data:null,error:o};throw o}})}upload(n,t,r){return xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,t,r)})}uploadToSignedUrl(n,t,r,i){return xt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(n),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let l;const u=Object.assign({upsert:b_.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c});return d.ok?{data:{path:o},error:null}:{data:null,error:yield d.json()}}catch(l){if(Ke(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(n){return xt(this,void 0,void 0,function*(){try{let t=this._getFinalPath(n);const r=yield $n(this.fetch,`${this.url}/object/upload/sign/${t}`,{},{headers:this.headers}),i=new URL(this.url+r.url),o=i.searchParams.get("token");if(!o)throw new Pc("No token returned by API");return{data:{signedUrl:i.toString(),path:n,token:o},error:null}}catch(t){if(Ke(t))return{data:null,error:t};throw t}})}update(n,t,r){return xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,t,r)})}move(n,t){return xt(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t},{headers:this.headers}),error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}copy(n,t){return xt(this,void 0,void 0,function*(){try{return{data:{path:(yield $n(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t},{headers:this.headers})).Key},error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}createSignedUrl(n,t,r){return xt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n),o=yield $n(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r?.download?`&download=${!0===r.download?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(Ke(i))return{data:null,error:i};throw i}})}createSignedUrls(n,t,r){return xt(this,void 0,void 0,function*(){try{const i=yield $n(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:n},{headers:this.headers}),o=r?.download?`&download=${!0===r.download?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(Ke(i))return{data:null,error:i};throw i}})}download(n,t){return xt(this,void 0,void 0,function*(){const i=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),s=o?`?${o}`:"";try{const a=this._getFinalPath(n);return{data:yield(yield kc(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ke(a))return{data:null,error:a};throw a}})}getPublicUrl(n,t){const r=this._getFinalPath(n),i=[],o=t?.download?`download=${!0===t.download?"":t.download}`:"";""!==o&&i.push(o);const a=typeof t?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(t?.transform||{});""!==l&&i.push(l);let u=i.join("&");return""!==u&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(n){return xt(this,void 0,void 0,function*(){try{return{data:yield w_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(t){if(Ke(t))return{data:null,error:t};throw t}})}list(n,t,r){return xt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Kx),t),{prefix:n||""});return{data:yield $n(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Ke(i))return{data:null,error:i};throw i}})}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}}const Zx={"X-Client-Info":"storage-js/2.5.1"};var ui=function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,l)}u((r=r.apply(e,n||[])).next())})};class Qx{constructor(n,t={},r){this.url=n,this.headers=Object.assign(Object.assign({},Zx),t),this.fetch=D_(r)}listBuckets(){return ui(this,void 0,void 0,function*(){try{return{data:yield kc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}getBucket(n){return ui(this,void 0,void 0,function*(){try{return{data:yield kc(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(t){if(Ke(t))return{data:null,error:t};throw t}})}createBucket(n,t={public:!1}){return ui(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}updateBucket(n,t){return ui(this,void 0,void 0,function*(){try{return{data:yield qx(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}emptyBucket(n){return ui(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Ke(t))return{data:null,error:t};throw t}})}deleteBucket(n){return ui(this,void 0,void 0,function*(){try{return{data:yield w_(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(t){if(Ke(t))return{data:null,error:t};throw t}})}}class Jx extends Qx{constructor(n,t={},r){super(n,t,r)}from(n){return new Yx(this.url,this.headers,n,this.fetch)}}const rN=(e,n,t)=>{const r=(e=>{let n;return n=e||(typeof fetch>"u"?f_():fetch),(...t)=>n(...t)})(t),i=typeof Headers>"u"?d_.Headers:Headers;return(o,s)=>function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,l)}u((r=r.apply(e,n||[])).next())})}(void 0,void 0,void 0,function*(){var a;const l=null!==(a=yield n())&&void 0!==a?a:e;let u=new i(s?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:u}))})};var lr=function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,l)}u((r=r.apply(e,n||[])).next())})};const In=()=>typeof document<"u",ur={tested:!1,writable:!1},ra=()=>{if(!In())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch{return!1}if(ur.tested)return ur.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ur.tested=!0,ur.writable=!0}catch{ur.tested=!0,ur.writable=!1}return ur.writable};function ft(e,n){var t;n||(n=(null===(t=window?.location)||void 0===t?void 0:t.href)||""),e=e.replace(/[\[\]]/g,"\\$&");const i=new RegExp("[?&#]"+e+"(=([^&#]*)|&|#|$)").exec(n);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}const E_=e=>{let n;return n=e||(typeof fetch>"u"?(...t)=>lr(void 0,void 0,void 0,function*(){return yield(yield Promise.resolve().then(we.t.bind(we,472,23))).fetch(...t)}):fetch),(...t)=>n(...t)},lN=e=>"object"==typeof e&&null!==e&&"status"in e&&"ok"in e&&"json"in e&&"function"==typeof e.json,ho=(e,n,t)=>lr(void 0,void 0,void 0,function*(){yield e.setItem(n,JSON.stringify(t))}),ia=(e,n)=>lr(void 0,void 0,void 0,function*(){const t=yield e.getItem(n);if(!t)return null;try{return JSON.parse(t)}catch{return t}}),Lc=(e,n)=>lr(void 0,void 0,void 0,function*(){yield e.removeItem(n)});class oa{constructor(){this.promise=new oa.promiseConstructor((n,t)=>{this.resolve=n,this.reject=t})}}function C_(e){const t=e.split(".");if(3!==t.length)throw new Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");return JSON.parse(function uN(e){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r,i,o,s,a,l,u,t="",c=0;for(e=e.replace("-","+").replace("_","/");c<e.length;)s=n.indexOf(e.charAt(c++)),a=n.indexOf(e.charAt(c++)),l=n.indexOf(e.charAt(c++)),u=n.indexOf(e.charAt(c++)),r=s<<2|a>>4,i=(15&a)<<4|l>>2,o=(3&l)<<6|u,t+=String.fromCharCode(r),64!=l&&0!=i&&(t+=String.fromCharCode(i)),64!=u&&0!=o&&(t+=String.fromCharCode(o));return t}(t[1]))}function fN(e){return("0"+e.toString(16)).substr(-2)}function sa(){const n=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let i="";for(let o=0;o<56;o++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(n),Array.from(n,fN).join("")}function aa(e){return lr(this,void 0,void 0,function*(){if(typeof crypto>"u")return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=yield function hN(e){return lr(this,void 0,void 0,function*(){const t=(new TextEncoder).encode(e),r=yield crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}(e);return function pN(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}(n)})}oa.promiseConstructor=Promise;class Vc extends Error{constructor(n,t){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=t}}function Z(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class gN extends Vc{constructor(n,t){super(n,t),this.name="AuthApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class S_ extends Vc{constructor(n,t){super(n),this.name="AuthUnknownError",this.originalError=t}}class ci extends Vc{constructor(n,t,r){super(n),this.name=t,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class di extends ci{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class jc extends ci{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class la extends ci{constructor(n){super(n,"AuthInvalidCredentialsError",400)}}class Mn extends ci{constructor(n,t=null){super(n,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bc extends ci{constructor(n,t=null){super(n,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $c extends ci{constructor(n,t){super(n,"AuthRetryableFetchError",t)}}function I_(e){return Z(e)&&"AuthRetryableFetchError"===e.name}var Hc=function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,l)}u((r=r.apply(e,n||[])).next())})},yN=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]])}return t};const po=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),_N=[502,503,504];function M_(e){return Hc(this,void 0,void 0,function*(){if(!lN(e))throw new $c(po(e),0);if(_N.includes(e.status))throw new $c(po(e),e.status);let n;try{n=yield e.json()}catch(t){throw new S_(po(t),t)}throw new gN(po(n),e.status||500)})}const vN=(e,n,t,r)=>{const i={method:e,headers:n?.headers||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};function ee(e,n,t,r){var i;return Hc(this,void 0,void 0,function*(){const o=Object.assign({},r?.headers);r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const s=null!==(i=r?.query)&&void 0!==i?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);const a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=yield function DN(e,n,t,r,i,o){return Hc(this,void 0,void 0,function*(){const s=vN(n,r,i,o);let a;try{a=yield e(t,s)}catch(l){throw console.error(l),new $c(po(l),0)}if(a.ok||(yield M_(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(l){yield M_(l)}})}(e,n,t+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}})}function Hn(e){var n;let t=null;return function CN(e){return e.access_token&&e.refresh_token&&e.expires_in}(e)&&(t=Object.assign({},e),t.expires_at=function sN(e){return Math.round(Date.now()/1e3)+e}(e.expires_in)),{data:{session:t,user:null!==(n=e.user)&&void 0!==n?n:e},error:null}}function cr(e){var n;return{data:{user:null!==(n=e.user)&&void 0!==n?n:e},error:null}}function wN(e){return{data:e,error:null}}function bN(e){const{action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o}=e,s=yN(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o},user:Object.assign({},s)},error:null}}function EN(e){return e}var tn=function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,l)}u((r=r.apply(e,n||[])).next())})};class IN{constructor({url:n="",headers:t={},fetch:r}){this.url=n,this.headers=t,this.fetch=E_(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(n,t="global"){return tn(this,void 0,void 0,function*(){try{return yield ee(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}})}inviteUserByEmail(n,t={}){return tn(this,void 0,void 0,function*(){try{return yield ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:cr})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}})}generateLink(n){return tn(this,void 0,void 0,function*(){try{const{options:t}=n,r=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]])}return t}(n,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:bN,redirectTo:t?.redirectTo})}catch(t){if(Z(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(n){return tn(this,void 0,void 0,function*(){try{return yield ee(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:cr})}catch(t){if(Z(t))return{data:{user:null},error:t};throw t}})}listUsers(n){var t,r,i,o,s,a,l;return tn(this,void 0,void 0,function*(){try{const u={nextPage:null,lastPage:0,total:0},c=yield ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=n?.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(o=null===(i=n?.perPage)||void 0===i?void 0:i.toString())&&void 0!==o?o:""},xform:EN});if(c.error)throw c.error;const d=yield c.json(),f=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,h=null!==(l=null===(a=c.headers.get("link"))||void 0===a?void 0:a.split(","))&&void 0!==l?l:[];return h.length>0&&(h.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(p.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(Z(u))return{data:{users:[]},error:u};throw u}})}getUserById(n){return tn(this,void 0,void 0,function*(){try{return yield ee(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:cr})}catch(t){if(Z(t))return{data:{user:null},error:t};throw t}})}updateUserById(n,t){return tn(this,void 0,void 0,function*(){try{return yield ee(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:t,headers:this.headers,xform:cr})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}})}deleteUser(n,t=!1){return tn(this,void 0,void 0,function*(){try{return yield ee(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:t},xform:cr})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}})}_listFactors(n){return tn(this,void 0,void 0,function*(){try{const{data:t,error:r}=yield ee(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(Z(t))return{data:null,error:t};throw t}})}_deleteFactor(n){return tn(this,void 0,void 0,function*(){try{return{data:yield ee(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(t){if(Z(t))return{data:null,error:t};throw t}})}}const A_={getItem:e=>ra()?globalThis.localStorage.getItem(e):null,setItem:(e,n)=>{ra()&&globalThis.localStorage.setItem(e,n)},removeItem:e=>{ra()&&globalThis.localStorage.removeItem(e)}};var F=function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,l)}u((r=r.apply(e,n||[])).next())})};!function NN(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}();const ON={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/2.39.0"},flowType:"implicit",debug:!1};let FN=(()=>{class e{constructor(t){var r;this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.broadcastChannel=null,this.instanceID=e.nextInstanceID,e.nextInstanceID+=1,this.instanceID>0&&In()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},ON),t);if(this.logDebugMessages=i.debug,this.inMemorySession=null,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.persistSession=i.persistSession,this.storage=i.storage||A_,this.admin=new IN({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=E_(i.fetch),this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession&&this.storage===A_&&!ra()&&console.warn("No storage option exists to persist the session, which may result in unexpected behavior when using auth.\n        If you want to set persistSession to true, please provide a storage option or you may set persistSession to false to disable this warning."),In()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",o=>F(this,void 0,void 0,function*(){this._debug("received broadcast notification from other tab or client",o),yield this._notifyAllSubscribers(o.data.event,o.data.session,!1)}))}this.initialize()}_debug(...t){return this.logDebugMessages&&console.log(`GoTrueClient@${this.instanceID} ${(new Date).toISOString()}`,...t),this}initialize(){return this.initializePromise||(this.initializePromise=this._initialize()),this.initializePromise}_initialize(){return F(this,void 0,void 0,function*(){if(this.initializePromise)return this.initializePromise;try{const t=!!In()&&(yield this._isPKCEFlow());if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:r,error:i}=yield this._getSessionFromUrl(t);if(i)return this._debug("#_initialize()","error detecting session from URL",i),yield this._removeSession(),{error:i};const{session:o,redirectType:s}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),yield this._saveSession(o),setTimeout(()=>F(this,void 0,void 0,function*(){"recovery"===s?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",o):yield this._notifyAllSubscribers("SIGNED_IN",o)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(t){return Z(t)?{error:t}:{error:new S_("Unexpected error during initialization",t)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signUp(t){var r,i,o;return F(this,void 0,void 0,function*(){try{let s;if(yield this._removeSession(),"email"in t){const{email:d,password:f,options:h}=t;let p=null,g=null;if("pkce"===this.flowType){const y=sa();yield ho(this.storage,`${this.storageKey}-code-verifier`,y),p=yield aa(y),g=y===p?"plain":"s256"}s=yield ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:d,password:f,data:null!==(r=h?.data)&&void 0!==r?r:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:p,code_challenge_method:g},xform:Hn})}else{if(!("phone"in t))throw new la("You must provide either an email or phone number and a password");{const{phone:d,password:f,options:h}=t;s=yield ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:null!==(i=h?.data)&&void 0!==i?i:{},channel:null!==(o=h?.channel)&&void 0!==o?o:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Hn})}}const{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const u=a.session,c=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(Z(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(t){return F(this,void 0,void 0,function*(){try{let r;if(yield this._removeSession(),"email"in t){const{email:s,password:a,options:l}=t;r=yield ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Hn})}else{if(!("phone"in t))throw new la("You must provide either an email or phone number and a password");{const{phone:s,password:a,options:l}=t;r=yield ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Hn})}}const{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:i&&i.session&&i.user?(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:{user:i.user,session:i.session},error:o}):{data:{user:null,session:null},error:new jc}}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(t){var r,i,o,s;return F(this,void 0,void 0,function*(){return yield this._removeSession(),yield this._handleProviderSignIn(t.provider,{redirectTo:null===(r=t.options)||void 0===r?void 0:r.redirectTo,scopes:null===(i=t.options)||void 0===i?void 0:i.scopes,queryParams:null===(o=t.options)||void 0===o?void 0:o.queryParams,skipBrowserRedirect:null===(s=t.options)||void 0===s?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(t){return F(this,void 0,void 0,function*(){const r=yield ia(this.storage,`${this.storageKey}-code-verifier`),{data:i,error:o}=yield ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Hn});return yield Lc(this.storage,`${this.storageKey}-code-verifier`),o?{data:{user:null,session:null},error:o}:i&&i.session&&i.user?(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:i,error:o}):{data:{user:null,session:null},error:new jc}})}signInWithIdToken(t){return F(this,void 0,void 0,function*(){yield this._removeSession();try{const{options:r,provider:i,token:o,access_token:s,nonce:a}=t,l=yield ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Hn}),{data:u,error:c}=l;return c?{data:{user:null,session:null},error:c}:u&&u.session&&u.user?(u.session&&(yield this._saveSession(u.session),yield this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c}):{data:{user:null,session:null},error:new jc}}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(t){var r,i,o,s,a;return F(this,void 0,void 0,function*(){try{if(yield this._removeSession(),"email"in t){const{email:l,options:u}=t;let c=null,d=null;if("pkce"===this.flowType){const h=sa();yield ho(this.storage,`${this.storageKey}-code-verifier`,h),c=yield aa(h),d=h===c?"plain":"s256"}const{error:f}=yield ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:null!==(r=u?.data)&&void 0!==r?r:{},create_user:null===(i=u?.shouldCreateUser)||void 0===i||i,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:u}=t,{data:c,error:d}=yield ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:null!==(o=u?.data)&&void 0!==o?o:{},create_user:null===(s=u?.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:null!==(a=u?.channel)&&void 0!==a?a:"sms"}});return{data:{user:null,session:null,messageId:c?.message_id},error:d}}throw new la("You must provide either an email or phone number.")}catch(l){if(Z(l))return{data:{user:null,session:null},error:l};throw l}})}verifyOtp(t){var r,i;return F(this,void 0,void 0,function*(){try{"email_change"!==t.type&&"phone_change"!==t.type&&(yield this._removeSession());const{data:o,error:s}=yield ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:null===(r=t.options)||void 0===r?void 0:r.captchaToken}}),redirectTo:null===(i=t.options)||void 0===i?void 0:i.redirectTo,xform:Hn});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,l=o.user;return a?.access_token&&(yield this._saveSession(a),yield this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(o){if(Z(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithSSO(t){var r,i,o;return F(this,void 0,void 0,function*(){try{return yield this._removeSession(),yield ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:null!==(i=null===(r=t.options)||void 0===r?void 0:r.redirectTo)&&void 0!==i?i:void 0}),null!==(o=t?.options)&&void 0!==o&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:wN})}catch(s){if(Z(s))return{data:null,error:s};throw s}})}reauthenticate(){return F(this,void 0,void 0,function*(){try{const{data:{session:t},error:r}=yield this.getSession();if(r)throw r;if(!t)throw new di;const{error:i}=yield ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:i}}catch(t){if(Z(t))return{data:{user:null,session:null},error:t};throw t}})}resend(t){return F(this,void 0,void 0,function*(){try{yield this._removeSession();const r=`${this.url}/resend`;if("email"in t){const{email:i,type:o,options:s}=t,{error:a}=yield ee(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null},error:a}}if("phone"in t){const{phone:i,type:o,options:s}=t,{data:a,error:l}=yield ee(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:l}}throw new la("You must provide either an email or phone number and a type")}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return F(this,void 0,void 0,function*(){yield this.initializePromise,this._debug("#getSession()","begin");try{let t=null;if(this.persistSession){const s=yield ia(this.storage,this.storageKey);this._debug("#getSession()","session from storage",s),null!==s&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession()))}else t=this.inMemorySession,this._debug("#getSession()","session from memory",t);if(!t)return{data:{session:null},error:null};const r=!!t.expires_at&&t.expires_at<=Date.now()/1e3;if(this._debug("#getSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r)return{data:{session:t},error:null};const{session:i,error:o}=yield this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#getSession()","end")}})}getUser(t){var r,i;return F(this,void 0,void 0,function*(){try{if(!t){const{data:o,error:s}=yield this.getSession();if(s)throw s;t=null!==(i=null===(r=o.session)||void 0===r?void 0:r.access_token)&&void 0!==i?i:void 0}return yield ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:cr})}catch(o){if(Z(o))return{data:{user:null},error:o};throw o}})}updateUser(t,r={}){return F(this,void 0,void 0,function*(){try{const{data:i,error:o}=yield this.getSession();if(o)throw o;if(!i.session)throw new di;const s=i.session,{data:a,error:l}=yield ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:t,jwt:s.access_token,xform:cr});if(l)throw l;return s.user=a.user,yield this._saveSession(s),yield this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}}catch(i){if(Z(i))return{data:{user:null},error:i};throw i}})}_decodeJWT(t){return C_(t)}setSession(t){return F(this,void 0,void 0,function*(){try{if(!t.access_token||!t.refresh_token)throw new di;const r=Date.now()/1e3;let i=r,o=!0,s=null;const a=C_(t.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){const{session:l,error:u}=yield this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:u}=yield this.getUser(t.access_token);if(u)throw u;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(Z(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(t){var r;return F(this,void 0,void 0,function*(){try{if(!t){const{data:s,error:a}=yield this.getSession();if(a)throw a;t=null!==(r=s.session)&&void 0!==r?r:void 0}if(!t?.refresh_token)throw new di;const{session:i,error:o}=yield this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}}catch(i){if(Z(i))return{data:{user:null,session:null},error:i};throw i}})}_getSessionFromUrl(t){return F(this,void 0,void 0,function*(){try{if(!In())throw new Mn("No browser detected.");if("implicit"===this.flowType&&!this._isImplicitGrantFlow())throw new Mn("Not a valid implicit grant flow url.");if("pkce"==this.flowType&&!t)throw new Bc("Not a valid PKCE flow url.");if(t){const v=ft("code");if(!v)throw new Bc("No code detected.");const{data:b,error:_}=yield this.exchangeCodeForSession(v);if(_)throw _;if(!b.session)throw new Bc("No session detected.");let I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:b.session,redirectType:null},error:null}}const r=ft("error_description");if(r){const v=ft("error_code");if(!v)throw new Mn("No error_code detected.");const b=ft("error");throw b?new Mn(r,{error:b,code:v}):new Mn("No error detected.")}const i=ft("provider_token"),o=ft("provider_refresh_token"),s=ft("access_token");if(!s)throw new Mn("No access_token detected.");const a=ft("expires_in");if(!a)throw new Mn("No expires_in detected.");const l=ft("refresh_token");if(!l)throw new Mn("No refresh_token detected.");const u=ft("token_type");if(!u)throw new Mn("No token_type detected.");const d=Math.round(Date.now()/1e3)+parseInt(a),{data:f,error:h}=yield this.getUser(s);if(h)throw h;const p=f.user,g={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:parseInt(a),expires_at:d,refresh_token:l,token_type:u,user:p},y=ft("type");return window.location.hash="",this._debug("#_getSessionFromUrl()","clearing window.location.hash"),{data:{session:g,redirectType:y},error:null}}catch(r){if(Z(r))return{data:{session:null,redirectType:null},error:r};throw r}})}_isImplicitGrantFlow(){return In()&&(Boolean(ft("access_token"))||Boolean(ft("error_description")))}_isPKCEFlow(){return F(this,void 0,void 0,function*(){const t=yield ia(this.storage,`${this.storageKey}-code-verifier`);return Boolean(ft("code"))&&Boolean(t)})}signOut({scope:t}={scope:"global"}){var r;return F(this,void 0,void 0,function*(){const{data:i,error:o}=yield this.getSession();if(o)return{error:o};const s=null===(r=i.session)||void 0===r?void 0:r.access_token;if(s){const{error:a}=yield this.admin.signOut(s,t);if(a&&(!function mN(e){return Z(e)&&"AuthApiError"===e.name}(a)||404!==a.status&&401!==a.status))return{error:a}}return"others"!==t&&(yield this._removeSession(),yield Lc(this.storage,`${this.storageKey}-code-verifier`),yield this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(t){const r=function aN(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const n=16*Math.random()|0;return("x"==e?n:3&n|8).toString(16)})}(),i={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),this._emitInitialSession(r),{data:{subscription:i}}}_emitInitialSession(t){var r,i;return F(this,void 0,void 0,function*(){try{const{data:{session:o},error:s}=yield this.getSession();if(s)throw s;yield null===(r=this.stateChangeEmitters.get(t))||void 0===r?void 0:r.callback("INITIAL_SESSION",o),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){yield null===(i=this.stateChangeEmitters.get(t))||void 0===i?void 0:i.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}resetPasswordForEmail(t,r={}){return F(this,void 0,void 0,function*(){let i=null,o=null;if("pkce"===this.flowType){const s=sa();yield ho(this.storage,`${this.storageKey}-code-verifier`,s),i=yield aa(s),o=s===i?"plain":"s256"}try{return yield ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Z(s))return{data:null,error:s};throw s}})}_refreshAccessToken(t){return F(this,void 0,void 0,function*(){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return yield function dN(e,n){return new Promise((r,i)=>{lr(this,void 0,void 0,function*(){for(let o=0;o<1/0;o++)try{const s=yield e(o);if(!n(o,null,s))return void r(s)}catch(s){if(!n(o,s))return void i(s)}})})}(o=>F(this,void 0,void 0,function*(){return yield function cN(e){return new Promise(n=>{setTimeout(()=>n(null),e)})}(200*o),this._debug(r,"refreshing attempt",o),yield ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Hn})}),(o,s,a)=>a&&a.error&&I_(a.error)&&Date.now()+200*(o+1)-i<3e4)}catch(i){if(this._debug(r,"error",i),Z(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}})}_isValidSession(t){return"object"==typeof t&&null!==t&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,r){return F(this,void 0,void 0,function*(){const i=yield this._getUrlForProvider(t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",i),In()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}})}_recoverAndRefresh(){var t;return F(this,void 0,void 0,function*(){const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=yield ia(this.storage,this.storageKey);if(this._debug(r,"session from storage",i),!this._isValidSession(i))return this._debug(r,"session is not valid"),void(null!==i&&(yield this._removeSession()));const o=Math.round(Date.now()/1e3),s=(null!==(t=i.expires_at)&&void 0!==t?t:1/0)<o+10;if(this._debug(r,`session has${s?"":" not"} expired with margin of 10s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=yield this._callRefreshToken(i.refresh_token);a&&(console.error(a),I_(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){return this._debug(r,"error",i),void console.error(i)}finally{this._debug(r,"end")}})}_callRefreshToken(t){var r,i;return F(this,void 0,void 0,function*(){if(!t)throw new di;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new oa;const{data:s,error:a}=yield this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new di;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),Z(s)){const a={session:null,error:s};return null===(r=this.refreshingDeferred)||void 0===r||r.resolve(a),a}throw null===(i=this.refreshingDeferred)||void 0===i||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(t,r,i=!0){return F(this,void 0,void 0,function*(){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(l=>F(this,void 0,void 0,function*(){try{yield l.callback(t,r)}catch(u){s.push(u)}}));if(yield Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(t){return F(this,void 0,void 0,function*(){this._debug("#_saveSession()",t),this.persistSession||(this.inMemorySession=t),this.persistSession&&t.expires_at&&(yield this._persistSession(t))})}_persistSession(t){return this._debug("#_persistSession()",t),ho(this.storage,this.storageKey,t)}_removeSession(){return F(this,void 0,void 0,function*(){this._debug("#_removeSession()"),this.persistSession?yield Lc(this.storage,this.storageKey):this.inMemorySession=null})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&In()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return F(this,void 0,void 0,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),3e4);this.autoRefreshTicker=t,t&&"object"==typeof t&&"function"==typeof t.unref?t.unref():typeof Deno<"u"&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(t),yield this._autoRefreshTokenTick()})}_stopAutoRefresh(){return F(this,void 0,void 0,function*(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)})}startAutoRefresh(){return F(this,void 0,void 0,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return F(this,void 0,void 0,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return F(this,void 0,void 0,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{const t=Date.now();try{const{data:{session:r}}=yield this.getSession();if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const i=Math.floor((1e3*r.expires_at-t)/3e4);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),i<=3&&(yield this._callRefreshToken(r.refresh_token))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}_handleVisibilityChange(){return F(this,void 0,void 0,function*(){if(this._debug("#_handleVisibilityChange()"),!In()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>F(this,void 0,void 0,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}})}_onVisibilityChanged(t){return F(this,void 0,void 0,function*(){this._debug(`#_onVisibilityChanged(${t})`,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(t||(yield this.initializePromise,yield this._recoverAndRefresh(),this._debug("#_onVisibilityChanged()","finished waiting for initialize, _recoverAndRefresh")),this.autoRefreshToken&&this._startAutoRefresh()):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(t,r){return F(this,void 0,void 0,function*(){const i=[`provider=${encodeURIComponent(t)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),"pkce"===this.flowType){const o=sa();yield ho(this.storage,`${this.storageKey}-code-verifier`,o);const s=yield aa(o),a=o===s?"plain":"s256";this._debug("PKCE","code verifier",`${o.substring(0,5)}...`,"code challenge",s,"method",a);const l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(l.toString())}if(r?.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return`${this.url}/authorize?${i.join("&")}`})}_unenroll(t){var r;return F(this,void 0,void 0,function*(){try{const{data:i,error:o}=yield this.getSession();return o?{data:null,error:o}:yield ee(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:null===(r=i?.session)||void 0===r?void 0:r.access_token})}catch(i){if(Z(i))return{data:null,error:i};throw i}})}_enroll(t){var r,i;return F(this,void 0,void 0,function*(){try{const{data:o,error:s}=yield this.getSession();if(s)return{data:null,error:s};const{data:a,error:l}=yield ee(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:null===(r=o?.session)||void 0===r?void 0:r.access_token});return l?{data:null,error:l}:(!(null===(i=a?.totp)||void 0===i)&&i.qr_code&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})}catch(o){if(Z(o))return{data:null,error:o};throw o}})}_verify(t){var r;return F(this,void 0,void 0,function*(){try{const{data:i,error:o}=yield this.getSession();if(o)return{data:null,error:o};const{data:s,error:a}=yield ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:null===(r=i?.session)||void 0===r?void 0:r.access_token});return a?{data:null,error:a}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:a})}catch(i){if(Z(i))return{data:null,error:i};throw i}})}_challenge(t){var r;return F(this,void 0,void 0,function*(){try{const{data:i,error:o}=yield this.getSession();return o?{data:null,error:o}:yield ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:null===(r=i?.session)||void 0===r?void 0:r.access_token})}catch(i){if(Z(i))return{data:null,error:i};throw i}})}_challengeAndVerify(t){return F(this,void 0,void 0,function*(){const{data:r,error:i}=yield this._challenge({factorId:t.factorId});return i?{data:null,error:i}:yield this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})})}_listFactors(){return F(this,void 0,void 0,function*(){const{data:{user:t},error:r}=yield this.getUser();if(r)return{data:null,error:r};const i=t?.factors||[],o=i.filter(s=>"totp"===s.factor_type&&"verified"===s.status);return{data:{all:i,totp:o},error:null}})}_getAuthenticatorAssuranceLevel(){var t,r;return F(this,void 0,void 0,function*(){const{data:{session:i},error:o}=yield this.getSession();if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const s=this._decodeJWT(i.access_token);let a=null;s.aal&&(a=s.aal);let l=a;return(null!==(r=null===(t=i.user.factors)||void 0===t?void 0:t.filter(d=>"verified"===d.status))&&void 0!==r?r:[]).length>0&&(l="aal2"),{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:s.amr||[]},error:null}})}}return e.nextInstanceID=0,e})();class PN extends FN{constructor(n){super(n)}}const kN={headers:{"X-Client-Info":"supabase-js/2.26.0"}},LN={schema:"public"},VN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jN={};class BN{constructor(n,t,r){var i,o,s,a,l,u,c,d;if(this.supabaseUrl=n,this.supabaseKey=t,!n)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const f=function iN(e){return e.replace(/\/$/,"")}(n);this.realtimeUrl=`${f}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${f}/auth/v1`,this.storageUrl=`${f}/storage/v1`,this.functionsUrl=`${f}/functions/v1`;const h=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,g=function oN(e,n){const{db:t,auth:r,realtime:i,global:o}=e,{db:s,auth:a,realtime:l,global:u}=n;return{db:Object.assign(Object.assign({},s),t),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},u),o)}}(r??{},{db:LN,realtime:jN,auth:Object.assign(Object.assign({},VN),{storageKey:h}),global:kN});this.storageKey=null!==(o=null===(i=g.auth)||void 0===i?void 0:i.storageKey)&&void 0!==o?o:"",this.headers=null!==(a=null===(s=g.global)||void 0===s?void 0:s.headers)&&void 0!==a?a:{},this.auth=this._initSupabaseAuthClient(null!==(l=g.auth)&&void 0!==l?l:{},this.headers,null===(u=g.global)||void 0===u?void 0:u.fetch),this.fetch=rN(t,this._getAccessToken.bind(this),null===(c=g.global)||void 0===c?void 0:c.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},g.realtime)),this.rest=new Ax(`${f}/rest/v1`,{headers:this.headers,schema:null===(d=g.db)||void 0===d?void 0:d.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new Cx(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Jx(this.storageUrl,this.headers,this.fetch)}from(n){return this.rest.from(n)}rpc(n,t={},r){return this.rest.rpc(n,t,r)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,t;return function(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,l)}u((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return null!==(t=null===(n=r.session)||void 0===n?void 0:n.access_token)&&void 0!==t?t:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:i,storageKey:o,flowType:s},a,l){return new PN({url:this.authUrl,headers:Object.assign(Object.assign({},{Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`}),a),storageKey:o,autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:i,flowType:s,fetch:l})}_initRealtimeClient(n){return new Hx(this.realtimeUrl,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(n,t,r){"TOKEN_REFRESHED"!==n&&"SIGNED_IN"!==n||this.changedAccessToken===r?"SIGNED_OUT"===n&&(this.realtime.setAuth(this.supabaseKey),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.realtime.setAuth(r??null),this.changedAccessToken=r)}}let Uc=(()=>{class e{constructor(){this._session=null,this.supabase=((e,n,t)=>new BN(e,n,void 0))("https://kdpgpaprjcvvoapfyfsz.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtkcGdwYXByamN2dm9hcGZ5ZnN6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODg1Njc1NTAsImV4cCI6MjAwNDE0MzU1MH0.SAU-PGommfWkTNQIsBn8qxzyP110rolxCAFgcZvqfuM")}get session(){return this.supabase.auth.getSession().then(({data:t})=>{this._session=t.session}),this._session}transactionCreate(t,r,i,o,s,a){return this.supabase.from("transaction").insert({transaction_date:t,amount:r,pay_to:i,category_id:s,account_id:o,notes:a}).select("id")}transactionUpdate(t,r,i,o,s,a,l){return this.supabase.from("transaction").update({transaction_date:r,amount:i,pay_to:o,category_id:a,account_id:s,notes:l}).eq("id",t).select("id")}updateCategoryBalance(t,r){return this.supabase.from("category").update({balance:r}).eq("id",t).select()}transactions(t,r,i){return console.log("user:",t),0===r&&0===i?this.supabase.from("transaction").select().order("transaction_date",{ascending:!1}).order("created_at",{ascending:!1}):this.supabase.from("transaction").select().gte("transaction_date",i+"-"+r+"-01").order("transaction_date",{ascending:!1})}checkForNewMonth(t,r){return this.supabase.from("month_processing").select().eq("month",t).eq("year",r)}addMonth(t,r){return this.supabase.from("month_processing").insert({month:t,year:r}).select("id")}tranDelete(t){return this.supabase.from("transaction").delete().eq("id",t).select("id")}categories(){return this.supabase.from("category").select().eq("hidden",!1).order("sort")}categoriesRPC(){return this.supabase.rpc("get_categories")}accounts(){return this.supabase.from("account").select().order("name")}authChanges(t){return this.supabase.auth.onAuthStateChange(t)}signIn(t){return this.supabase.auth.signInWithOtp({email:t})}signInWithOtp(t){return this.supabase.auth.signInWithOtp({phone:"+18597710478"})}signOut(){return this.supabase.auth.signOut()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const{isArray:HN}=Array,{getPrototypeOf:UN,prototype:GN,keys:zN}=Object;const{isArray:KN}=Array;function QN(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}function JN(...e){const n=function _D(e){return q(Aa(e))?e.pop():void 0}(e),{args:t,keys:r}=function WN(e){if(1===e.length){const n=e[0];if(HN(n))return{args:n,keys:null};if(function qN(e){return e&&"object"==typeof e&&UN(e)===GN}(n)){const t=zN(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}(e),i=new Y(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let l=s,u=s;for(let c=0;c<s;c++){let d=!1;an(t[c]).subscribe(wi(o,f=>{d||(d=!0,u--),a[c]=f},()=>l--,void 0,()=>{(!l||!d)&&(u||o.next(r?QN(r,a):a),o.complete())}))}});return n?i.pipe(function ZN(e){return Ca(n=>function YN(e,n){return KN(n)?e(...n):e(n)}(e,n))}(n)):i}let O_=(()=>{class e{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return e.\u0275fac=function(t){return new(t||e)(w(rr),w(Pt))},e.\u0275dir=L({type:e}),e})(),dr=(()=>{class e extends O_{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=He(e)))(r||e)}}(),e.\u0275dir=L({type:e,features:[se]}),e})();const nn=new R("NgValueAccessor"),eO={provide:nn,useExisting:de(()=>go),multi:!0},nO=new R("CompositionEventMode");let go=(()=>{class e extends O_{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function tO(){const e=oi()?oi().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return e.\u0275fac=function(t){return new(t||e)(w(rr),w(Pt),w(nO,8))},e.\u0275dir=L({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&Se("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[me([eO]),se]}),e})();const rO=!1;function Un(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function P_(e){return null!=e&&"number"==typeof e.length}const Ye=new R("NgValidators"),Gn=new R("NgAsyncValidators"),iO=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class zn{static min(n){return function R_(e){return n=>{if(Un(n.value)||Un(e))return null;const t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}(n)}static max(n){return function k_(e){return n=>{if(Un(n.value)||Un(e))return null;const t=parseFloat(n.value);return!isNaN(t)&&t>e?{max:{max:e,actual:n.value}}:null}}(n)}static required(n){return function L_(e){return Un(e.value)?{required:!0}:null}(n)}static requiredTrue(n){return function V_(e){return!0===e.value?null:{required:!0}}(n)}static email(n){return function j_(e){return Un(e.value)||iO.test(e.value)?null:{email:!0}}(n)}static minLength(n){return function B_(e){return n=>Un(n.value)||!P_(n.value)?null:n.value.length<e?{minlength:{requiredLength:e,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function $_(e){return n=>P_(n.value)&&n.value.length>e?{maxlength:{requiredLength:e,actualLength:n.value.length}}:null}(n)}static pattern(n){return function H_(e){if(!e)return ca;let n,t;return"string"==typeof e?(t="","^"!==e.charAt(0)&&(t+="^"),t+=e,"$"!==e.charAt(e.length-1)&&(t+="$"),n=new RegExp(t)):(t=e.toString(),n=e),r=>{if(Un(r.value))return null;const i=r.value;return n.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(n)}static nullValidator(n){return null}static compose(n){return K_(n)}static composeAsync(n){return Y_(n)}}function ca(e){return null}function U_(e){return null!=e}function G_(e){const n=Es(e)?Od(e):e;if(rO&&!kp(n)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof e&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new C(-1101,t)}return n}function z_(e){let n={};return e.forEach(t=>{n=null!=t?{...n,...t}:n}),0===Object.keys(n).length?null:n}function W_(e,n){return n.map(t=>t(e))}function q_(e){return e.map(n=>function oO(e){return!e.validate}(n)?n:t=>n.validate(t))}function K_(e){if(!e)return null;const n=e.filter(U_);return 0==n.length?null:function(t){return z_(W_(t,n))}}function Gc(e){return null!=e?K_(q_(e)):null}function Y_(e){if(!e)return null;const n=e.filter(U_);return 0==n.length?null:function(t){return JN(W_(t,n).map(G_)).pipe(Ca(z_))}}function zc(e){return null!=e?Y_(q_(e)):null}function Z_(e,n){return null===e?[n]:Array.isArray(e)?[...e,n]:[e,n]}function Q_(e){return e._rawValidators}function J_(e){return e._rawAsyncValidators}function Wc(e){return e?Array.isArray(e)?e:[e]:[]}function da(e,n){return Array.isArray(e)?e.includes(n):e===n}function X_(e,n){const t=Wc(n);return Wc(e).forEach(i=>{da(t,i)||t.push(i)}),t}function ev(e,n){return Wc(n).filter(t=>!da(e,t))}class tv{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Gc(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=zc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class rt extends tv{get formDirective(){return null}get path(){return null}}class Wn extends tv{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class nv{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let qc=(()=>{class e extends nv{constructor(t){super(t)}}return e.\u0275fac=function(t){return new(t||e)(w(Wn,2))},e.\u0275dir=L({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Ss("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[se]}),e})(),Kc=(()=>{class e extends nv{constructor(t){super(t)}}return e.\u0275fac=function(t){return new(t||e)(w(rt,10))},e.\u0275dir=L({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&Ss("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[se]}),e})();function rv(e,n){return e?`with name: '${n}'`:`at index: ${n}`}const Qc=!1,mo="VALID",ha="INVALID",fi="PENDING",yo="DISABLED";function Jc(e){return(pa(e)?e.validators:e)||null}function Xc(e,n){return(pa(n)?n.asyncValidators:e)||null}function pa(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function iv(e,n,t){const r=e.controls;if(!(n?Object.keys(r):r).length)throw new C(1e3,Qc?function uO(e){return`\n    There are no form controls registered with this ${e?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(n):"");if(!r[t])throw new C(1001,Qc?function cO(e,n){return`Cannot find form control ${rv(e,n)}`}(n,t):"")}function ov(e,n,t){e._forEachChild((r,i)=>{if(void 0===t[i])throw new C(1002,Qc?function dO(e,n){return`Must supply a value for form control ${rv(e,n)}`}(n,i):"")})}class ga{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===mo}get invalid(){return this.status===ha}get pending(){return this.status==fi}get disabled(){return this.status===yo}get enabled(){return this.status!==yo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(X_(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(X_(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(ev(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(ev(n,this._rawAsyncValidators))}hasValidator(n){return da(this._rawValidators,n)}hasAsyncValidator(n){return da(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=fi,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=yo,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=mo,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mo||this.status===fi)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yo:mo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=fi,this._hasOwnPendingAsyncValidator=!0;const t=G_(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(n,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new We,this.statusChanges=new We}_calculateStatus(){return this._allControlsDisabled()?yo:this.errors?ha:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fi)?fi:this._anyControlsHaveStatus(ha)?ha:mo}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){pa(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function fO(e){return Array.isArray(e)?Gc(e):e||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function hO(e){return Array.isArray(e)?zc(e):e||null}(this._rawAsyncValidators)}}class _o extends ga{constructor(n,t,r){super(Jc(t),Xc(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,r={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){ov(this,!0,n),Object.keys(n).forEach(r=>{iv(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(Object.keys(n).forEach(r=>{const i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,r)=>(n[r]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&n(r,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&n(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(n,t){let r=n;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}class sv extends _o{}const fr=new R("CallSetDisabledState",{providedIn:"root",factory:()=>vo}),vo="always";function Do(e,n,t=vo){ed(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&n.valueAccessor.setDisabledState?.(e.disabled),function gO(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&av(e,n)})}(e,n),function yO(e,n){const t=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,n),function mO(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&av(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function pO(e,n){if(n.valueAccessor.setDisabledState){const t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,n)}function ya(e,n,t=!0){const r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),va(e,n),e&&(n._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function _a(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function ed(e,n){const t=Q_(e);null!==n.validator?e.setValidators(Z_(t,n.validator)):"function"==typeof t&&e.setValidators([t]);const r=J_(e);null!==n.asyncValidator?e.setAsyncValidators(Z_(r,n.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();_a(n._rawValidators,i),_a(n._rawAsyncValidators,i)}function va(e,n){let t=!1;if(null!==e){if(null!==n.validator){const i=Q_(e);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==n.validator);o.length!==i.length&&(t=!0,e.setValidators(o))}}if(null!==n.asyncValidator){const i=J_(e);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==n.asyncValidator);o.length!==i.length&&(t=!0,e.setAsyncValidators(o))}}}const r=()=>{};return _a(n._rawValidators,r),_a(n._rawAsyncValidators,r),t}function av(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function cv(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function dv(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const bo=class extends ga{constructor(n=null,t,r){super(Jc(t),Xc(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pa(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=dv(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){cv(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){cv(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){dv(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};let od=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=L({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const IO={provide:nn,useExisting:de(()=>sd),multi:!0};let sd=(()=>{class e extends dr{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=He(e)))(r||e)}}(),e.\u0275dir=L({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&Se("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},features:[me([IO]),se]}),e})(),mv=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=dn({type:e}),e.\u0275inj=Ht({}),e})();const ad=new R("NgModelWithFormControlWarning"),NO={provide:rt,useExisting:de(()=>Eo)};let Eo=(()=>{class e extends rt{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new We,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(va(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Do(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){ya(t.control||null,t,!1),function wO(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function uv(e,n){e._syncPendingControls(),n.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(ya(r||null,t),(e=>e instanceof bo)(i)&&(Do(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function lv(e,n){ed(e,n)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function _O(e,n){return va(e,n)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ed(this.form,this),this._oldForm&&va(this._oldForm,this)}_checkFormPresent(){}}return e.\u0275fac=function(t){return new(t||e)(w(Ye,10),w(Gn,10),w(fr,8))},e.\u0275dir=L({type:e,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&Se("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[me([NO]),se,hn]}),e})();const PO={provide:Wn,useExisting:de(()=>Da)};let Da=(()=>{class e extends Wn{set isDisabled(t){}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new We,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function rd(e,n){if(!n)return null;let t,r,i;return Array.isArray(n),n.forEach(o=>{o.constructor===go?t=o:function DO(e){return Object.getPrototypeOf(e.constructor)===dr}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){this._added||this._setUpControl(),function nd(e,n){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function ma(e,n){return[...n.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return e._ngModelWarningSentOnce=!1,e.\u0275fac=function(t){return new(t||e)(w(rt,13),w(Ye,10),w(Gn,10),w(nn,10),w(ad,8))},e.\u0275dir=L({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[me([PO]),se,hn]}),e})();const RO={provide:nn,useExisting:de(()=>wa),multi:!0};function wv(e,n){return null==e?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let wa=(()=>{class e extends dr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=wv(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function kO(e){return e.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=He(e)))(r||e)}}(),e.\u0275dir=L({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&Se("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[me([RO]),se]}),e})(),bv=(()=>{class e{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(wv(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(w(Pt),w(rr),w(wa,9))},e.\u0275dir=L({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const LO={provide:nn,useExisting:de(()=>cd),multi:!0};function Ev(e,n){return null==e?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let cd=(()=>{class e extends dr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const u=this._getOptionValue(s[a].value);i.push(u)}}else{const s=r.options;for(let a=0;a<s.length;a++){const l=s[a];if(l.selected){const u=this._getOptionValue(l.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function VO(e){return e.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=He(e)))(r||e)}}(),e.\u0275dir=L({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&Se("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[me([LO]),se]}),e})(),Cv=(()=>{class e{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Ev(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Ev(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(w(Pt),w(rr),w(cd,9))},e.\u0275dir=L({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})(),Pv=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=dn({type:e}),e.\u0275inj=Ht({imports:[mv]}),e})();class Rv extends ga{constructor(n,t,r){super(Jc(t),Xc(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,t={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(n,t,r={}){this.controls.splice(n,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(n,t={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(n,t,r={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,t={}){ov(this,!1,n),n.forEach((r,i)=>{iv(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(n.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n=[],t={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((t,r)=>{n(t,r)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(t=>t.enabled&&n(t))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}}function kv(e){return!!e&&(void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn)}let Lv=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new e;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let o={};return kv(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new _o(i,o)}record(t,r=null){const i=this._reduceControls(t);return new sv(i,r)}control(t,r,i){let o={};return this.useNonNullable?(kv(r)?o=r:(o.validators=r,o.asyncValidators=i),new bo(t,{...o,nonNullable:!0})):new bo(t,r,i)}array(t,r,i){const o=t.map(s=>this._createControl(s));return new Rv(o,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof bo||t instanceof ga?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),qO=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:fr,useValue:t.callSetDisabledState??vo}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=dn({type:e}),e.\u0275inj=Ht({imports:[Pv]}),e})(),KO=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:ad,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:fr,useValue:t.callSetDisabledState??vo}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=dn({type:e}),e.\u0275inj=Ht({imports:[Pv]}),e})(),YO=(()=>{class e{constructor(t,r){this.supabase=t,this.formBuilder=r,this.loading=!1,this.signInForm=this.formBuilder.group({email:""})}onSubmit(){var t=this;return ct(function*(){try{t.loading=!0;const r=t.signInForm.value.email,{error:i}=yield t.supabase.signIn(r);if("cavemanken@yahoo.com"!==r&&"redjen99@yahoo.com"!=r)alert("only two emails can access this app.");else{if(i)throw i;alert("Check your email for the login link!")}}catch(r){r instanceof Error&&alert(r.message)}finally{t.signInForm.reset(),t.loading=!1}})()}}return e.\u0275fac=function(t){return new(t||e)(w(Uc),w(Lv))},e.\u0275cmp=Po({type:e,selectors:[["app-auth"]],decls:14,vars:3,consts:[[1,"row","flex-center","flex"],["aria-live","polite",1,"col-6","form-widget"],[1,"header"],[1,"description"],[1,"form-widget",3,"formGroup","ngSubmit"],[2,"margin-bottom","10px"],["for","email"],["id","email","formControlName","email","type","email","placeholder","Ken's or Jen's yahoo email",1,"inputField"],["type","submit",1,"button","block",3,"disabled"]],template:function(t,r){1&t&&(A(0,"div",0)(1,"div",1)(2,"h2",2),U(3,"Ken & Jen's Budget App"),T(),A(4,"p",3),U(5,"Sign in via link with your email below"),T(),A(6,"form",4),Se("ngSubmit",function(){return r.onSubmit()}),A(7,"div",5)(8,"label",6),U(9,"Email:\xa0"),T(),Dn(10,"input",7),T(),A(11,"div")(12,"button",8),U(13),T()()()()()),2&t&&(oe(6),ge("formGroup",r.signInForm),oe(6),ge("disabled",r.loading),oe(1),Ln(" ",r.loading?"Loading":"Send Link"," "))},dependencies:[od,go,qc,Kc,Eo,Da]}),e})();const ZO=function(e,n){return{color:e,"font-weight":n}};function QO(e,n){if(1&e){const t=Jr();A(0,"tr")(1,"td"),U(2),Ns(3,"date"),T(),A(4,"td",6),U(5),Ns(6,"currency"),T(),A(7,"td"),U(8),T(),A(9,"td"),U(10),T(),A(11,"td"),U(12),T(),A(13,"td"),U(14),T(),A(15,"td")(16,"button",7),Se("click",function(){const o=Wt(t).$implicit;return qt(ze(2).tranEditButtonClicked(o.id))}),U(17," Edit "),T()(),A(18,"td")(19,"button",8),Se("click",function(){const o=Wt(t).$implicit;return qt(ze(2).tranDeleteButtonClicked(o.id))}),U(20," Delete "),T()()()}if(2&e){const t=n.$implicit,r=ze(2);oe(2),kn(function mm(e,n,t,r){const i=e+pe,o=D(),s=Cr(o,i);return no(o,i)?fm(o,Xe(),n,s.transform,t,r,s):s.transform(t,r)}(3,7,t.transaction_date,"MM/dd/yyyy")),oe(2),ge("ngStyle",function cm(e,n,t,r,i){return fm(D(),Xe(),e,n,t,r,i)}(12,ZO,t.amount>0?"black":"red",t.amount>0?"normal":"bold")),oe(1),Ln(" ",Au(6,10,t.amount)," "),oe(3),kn(t.pay_to),oe(2),kn(r.getAccountName(t.account_id)),oe(2),kn(r.getCategoryName(t.category_id)),oe(2),kn(t.notes)}}function JO(e,n){if(1&e){const t=Jr();A(0,"button",4),Se("click",function(){return Wt(t),qt(ze(2).signOut())}),U(1," Sign Out "),T()}2&e&&ge("disabled",ze(2).loading)}function XO(e,n){if(1&e){const t=Jr();A(0,"div",2)(1,"h2"),U(2),T(),A(3,"table")(4,"tr")(5,"th"),U(6,"Date"),T(),A(7,"th"),U(8,"Amount"),T(),A(9,"th"),U(10,"Where/Who"),T(),A(11,"th"),U(12,"Account"),T(),A(13,"th"),U(14,"Category"),T(),A(15,"th"),U(16,"Note"),T()(),Dt(17,QO,21,15,"tr",3),T(),A(18,"div")(19,"button",4),Se("click",function(){return Wt(t),qt(ze().tranCreateButtonClicked())}),U(20," New Transaction "),T(),Dt(21,JO,2,1,"button",5),T()()}if(2&e){const t=ze();oe(2),Ln("",t.mode," Transactions"),oe(15),ge("ngForOf",t.transactions),oe(2),ge("disabled",t.loading),oe(2),ge("ngIf",t.session.user.id===t._KENS_USER_ID_)}}function eF(e,n){1&e&&(A(0,"h2"),U(1,"New Transaction"),T())}function tF(e,n){1&e&&(A(0,"h2"),U(1,"Edit Transaction"),T())}function nF(e,n){if(1&e){const t=Jr();A(0,"button",12),Se("click",function(){return Wt(t),qt(ze(3).handleNewMonthClick())}),U(1," Create New Month Transactions "),T()}}function rF(e,n){if(1&e&&(A(0,"div",31)(1,"p"),U(2," Looks like this is a new month. Have Ken roll over balances if you are done with the previous month. "),T(),Dt(3,nF,2,0,"button",32),T()),2&e){const t=ze(2);oe(3),ge("ngIf",t.session.user.id===t._KENS_USER_ID_&&"Create"===t.mode)}}function iF(e,n){if(1&e&&(A(0,"option",33),U(1),T()),2&e){const t=n.$implicit;ge("value",t.id),oe(1),Ln(" ",t.name," ")}}function oF(e,n){if(1&e&&(A(0,"option",33),U(1),Ns(2,"currency"),T()),2&e){const t=n.$implicit;ge("value",t.id),oe(1),Du(" ",t.name," - (",Au(2,3,t.balance),") ")}}function sF(e,n){if(1&e){const t=Jr();A(0,"div",9),Dt(1,eF,2,0,"h2",10),Dt(2,tF,2,0,"h2",10),Dt(3,rF,4,1,"div",11),A(4,"button",12),Se("click",function(){return Wt(t),qt(ze().tranViewButtonClicked())}),U(5," Show Previous Transactions "),T(),A(6,"p",13),U(7,' If category does not exist, then use "Other" and add a note. '),T(),A(8,"form",14),Se("ngSubmit",function(){return Wt(t),qt(ze().onTranCreateSubmit())}),A(9,"div")(10,"table")(11,"tr")(12,"td")(13,"label",15),U(14,"Date"),T()(),A(15,"td"),Dn(16,"input",16),T()(),A(17,"tr")(18,"td")(19,"label",17),U(20,"Amount"),T()(),A(21,"td"),Dn(22,"input",18),T()(),A(23,"tr")(24,"td")(25,"label",19),U(26,"Where/Who"),T()(),A(27,"td"),Dn(28,"input",20),T()(),A(29,"tr")(30,"td")(31,"label",21),U(32,"Account"),T()(),A(33,"td")(34,"select",22),Dt(35,iF,2,2,"option",23),T()()(),A(36,"tr")(37,"td")(38,"label",24),U(39,"Category"),T()(),A(40,"td")(41,"select",25),Dt(42,oF,3,5,"option",23),T()()(),A(43,"tr")(44,"td")(45,"label",26),U(46,"Note"),T()(),A(47,"td"),Dn(48,"input",27),T()()()(),A(49,"label")(50,"input",28),Se("change",function(){Wt(t);const i=ze();return i.showAllCategories=!i.showAllCategories,qt(i.filterCategories(i.showAllCategories))}),T(),U(51,"Show All Categories "),T(),A(52,"div"),U(53),T(),A(54,"div")(55,"button",29),U(56),T(),A(57,"button",30),Se("click",function(){return Wt(t),qt(ze().tranCreateEditCancel())}),U(58," Cancel "),T()()()()}if(2&e){const t=ze();oe(1),ge("ngIf","Create"===t.mode),oe(1),ge("ngIf","Edit"===t.mode),oe(1),ge("ngIf",t.newMonth&&"Create"===t.mode),oe(5),ge("formGroup",t.tranForm),oe(27),ge("ngForOf",t.accounts),oe(7),ge("ngForOf",t.filteredCategories),oe(8),ge("checked",t.showAllCategories),oe(3),kn(t.selectedCat),oe(2),ge("disabled",t.loading),oe(1),Ln(" ",t.loading?"Loading":"Save"," ")}}let aF=(()=>{class e{constructor(t,r){this.supabase=t,this.formBuilder=r,this._KENS_USER_ID_="146769d7-09c2-4301-98f6-e13b08d814be",this.showAllCategories=!1,this.loading=!1,this.month=0,this.year=0,this.currentMonth=0,this.currentYear=0,this.currentDay=0,this.newMonth=!1,this.userId=this.session?.user.id,this.tranForm=this.formBuilder.group({date:["",[zn.required]],amount:[NaN,[zn.required]],accountId:[0,[zn.required,zn.min(1)]],payTo:["",[zn.required,zn.minLength(3)]],categoryId:[0,[zn.required,zn.min(1)]],notes:""}),this.updateProfileForm=this.formBuilder.group({username:"",website:"",avatar_url:""})}ngOnInit(){var t=this;return ct(function*(){console.log(t.session.user.id),console.log("userId",t.userId),t.mode="Create";var r=new Date;t.month=r.getUTCMonth()+1,r.getUTCDate(),t.year=r.getUTCFullYear(),t.currentMonth=t.month,t.currentYear=t.year,t.currentDay=r.getDate(),t.currentDate=r.toLocaleDateString(),console.log(t.currentDate),t.formattedDate=t.currentYear+"-0"+t.currentMonth+"-"+r.getDate(),console.log(t.formattedDate),yield t.getTransactions(t.month,t.year),yield t.getCategories(),yield t.getAccounts(),yield t.checkForNewMonth(t.currentMonth,t.currentYear),t.tranFormReset()})()}getAccountName(t){return this.accounts.filter(i=>i.id===t)[0].name}getCategoryName(t){return this.allCategories.filter(i=>i.id===t)[0].name}filterCategories(t){this.filteredCategories=t?this.allCategories:this.allCategories.filter(r=>r.always_show)}handleNewMonthClick(){confirm("This will create new transactions for the current month.  Click OK to continue.")&&this.handleNewMonth()}handleNewMonth(){var t=this;return ct(function*(){var r=0;console.log(t.currentMonth,t.currentYear),yield t.getCategories(),console.log(t.allCategories),t.allCategories.forEach(i=>{i.roll_remaining_balance&&(r=i.balance+i.monthly_target>(null===i.max_balance?9999999:i.max_balance)?i.max_balance:i.balance+i.monthly_target,r=Math.round(100*r)/100,console.log(i.name,i.balance,i.monthly_target,i.max_balance,r,r-i.balance),t.createTransaction(t.currentMonth+"/01/"+t.currentYear,i.balance-r,"New Month",1,i.id,"New Month"))}),t.addMonth(t.currentMonth,t.currentYear),t.newMonth=!1,yield t.getTransactions(t.currentMonth,t.currentYear),yield t.getCategories()})()}onTranCreateSubmit(){var t=this;return ct(function*(){t.tranForm.dirty?t.tranForm.valid?("Create"===t.mode?(yield t.createTransaction(t.tranForm.value.date,t.tranForm.value.amount,t.tranForm.value.payTo,t.tranForm.value.accountId,t.tranForm.value.categoryId,t.tranForm.value.notes),alert("Transaction Added")):(yield t.updateTransaction(t.tranForm.value.date,t.tranForm.value.amount,t.tranForm.value.payTo,t.tranForm.value.accountId,t.tranForm.value.categoryId,t.tranForm.value.notes),alert("Transaction Updated")),yield t.getCategories(),yield t.getTransactions(t.month,t.year),t.tranFormReset(),"Edit"===t.mode&&t.tranView()):alert("Please supply the Date, Amount, Where/Who, Account, and Category."):(alert("No Changes Made"),t.tranFormReset(),t.tranView())})()}myRound(t){return Math.round(100*t)/100}tranCreateEditCancel(){console.log("here"),this.tranForm.dirty?confirm("You've begun "+("Create"===this.mode?"adding ":"updating")+" a transaction.  Click 'OK' to continue cancelling this new or updated transaction?")&&(this.tranFormReset(),this.tranView()):(this.tranFormReset(),this.tranView())}tranFormReset(){console.log("date:","n"+this.tranForm.value.date+"n");var t=this.tranForm.value.date;""===t&&(t=this.currentYear+"-"+(this.currentMonth<10?"0":"")+this.currentMonth+"-"+(this.currentDay<10?"0":"")+this.currentDay),this.tranForm.reset(),this.tranForm.patchValue({date:t})}tranEditButtonClicked(t){this.mode="Edit",this.tranToEdit=this.transactions.filter(r=>r.id===t),this.tranForm.patchValue({date:this.tranToEdit[0].transaction_date,amount:this.tranToEdit[0].amount,categoryId:this.tranToEdit[0].category_id,accountId:this.tranToEdit[0].account_id,payTo:this.tranToEdit[0].pay_to,notes:this.tranToEdit[0].notes}),this.tranForm.markAsPristine()}tranViewButtonClicked(){this.tranView()}tranView(){this.tranForm.dirty?this.tranCreateEditCancel():this.mode="View"}tranCreateButtonClicked(){this.mode="Create"}tranDeleteButtonClicked(t){console.log(t),this.tranDeleteConfirm(t)}tranDeleteConfirm(t){confirm("This will delete the selected tranaction.  Click OK to continue.")&&this.tranDelete(t)}tranDelete(t){var r=this;return ct(function*(){try{r.loading=!0;let{data:i,error:o,status:s}=yield r.supabase.tranDelete(t);if(o?(alert(o.message),console.log(o.message,o)):i&&(console.log("result",i),r.getTransactions(r.currentMonth,r.currentYear),r.getCategories()),o&&406!==s)throw o}catch(i){i instanceof Error&&alert(i.message)}finally{r.loading=!1}})()}addMonth(t,r){var i=this;return ct(function*(){try{i.loading=!0;let{data:o,error:s,status:a}=yield i.supabase.addMonth(t,r);if(s?(alert(s.message),console.log(s.message,s)):o&&console.log("new_month",o),s&&406!==a)throw s}catch(o){o instanceof Error&&alert(o.message)}finally{i.loading=!1}})()}getAccounts(){var t=this;return ct(function*(){try{t.loading=!0;let{data:i,error:o,status:s}=yield t.supabase.accounts();if(o?(alert(o.message),console.log(o.message,o)):i&&(console.log("accounts",i),t.accounts=i),o&&406!==s)throw o}catch(r){r instanceof Error&&alert(r.message)}finally{t.loading=!1}})()}getCategories(){var t=this;return ct(function*(){try{t.loading=!0;let{data:i,error:o,status:s}=yield t.supabase.categories();if(o?(alert(o.message),console.log(o.message,o)):i&&(t.allCategories=i,t.filterCategories(t.showAllCategories),console.log("filtered categories",t.filteredCategories)),o&&406!==s)throw o}catch(r){r instanceof Error&&alert(r.message)}finally{t.loading=!1}})()}createTransaction(t,r,i,o,s,a){var l=this;return ct(function*(){try{l.loading=!0,console.log(t,r,i,o,s,a);let{data:c,error:d,status:f}=yield l.supabase.transactionCreate(t,r,i,o,s,a);if(d?(alert(d.message),console.log(d.message,d)):c&&console.log(c),d&&406!==f)throw d}catch(u){u instanceof Error&&alert(u.message)}finally{l.loading=!1}})()}updateTransaction(t,r,i,o,s,a){var l=this;return ct(function*(){try{l.loading=!0,console.log(t,r,i,o,s,a);let{data:c,error:d,status:f}=yield l.supabase.transactionUpdate(l.tranToEdit[0].id,t,r,i,o,s,a);if(d?(alert(d.message),console.log(d.message,d)):c&&console.log(c),d&&406!==f)throw d}catch(u){u instanceof Error&&alert(u.message)}finally{l.loading=!1}})()}checkForNewMonth(t,r){var i=this;return ct(function*(){try{i.loading=!0,console.log("checkForNewMonth",t,r);let{data:o,error:s,status:a}=yield i.supabase.checkForNewMonth(t,r);if(s?(alert(s.message),console.log(s.message,s)):o&&(console.log("checkForNewMonth result",o),i.newMonth=0===o.length),s&&406!==a)throw s}catch(o){o instanceof Error&&alert(o.message)}finally{i.loading=!1}})()}getTransactions(t,r){var i=this;return ct(function*(){try{i.loading=!0;const{user:o}=i.session;let{data:s,error:a,status:l}=yield i.supabase.transactions(o,t,r);if(a?(alert(a.message),console.log(a.message,a)):s&&(i.transactions=s,console.log("transactions",s)),a&&406!==l)throw a}catch(o){o instanceof Error&&alert(o.message)}finally{i.loading=!1}})()}signOut(){var t=this;return ct(function*(){yield t.supabase.signOut()})()}}return e.\u0275fac=function(t){return new(t||e)(w(Uc),w(Lv))},e.\u0275cmp=Po({type:e,selectors:[["app-transaction"]],inputs:{session:"session",mode:"mode",transactionId:"transactionId"},decls:2,vars:2,consts:[["class","view",4,"ngIf"],["class","create",4,"ngIf"],[1,"view"],[4,"ngFor","ngForOf"],[1,"button","block",3,"disabled","click"],["class","button block",3,"disabled","click",4,"ngIf"],["align","right",3,"ngStyle"],[1,"button-in-grid-edit","block",3,"click"],[1,"button-in-grid-delete","block",3,"click"],[1,"create"],[4,"ngIf"],["class","newMonth",4,"ngIf"],[1,"button","block",3,"click"],[2,"font-weight","bold"],[1,"form-widget",3,"formGroup","ngSubmit"],["for","date"],["id","date","formControlName","date","type","date","placeholder","Transaction Date",1,"inputField"],["for","amount"],["id","amount","formControlName","amount","type","number","placeholder","Transaction Amount",1,"inputField"],["for","payTo"],["id","payTo","formControlName","payTo","type","string","placeholder","Where/Who",1,"inputField"],["for","account"],["id","accountId","formControlName","accountId"],[3,"value",4,"ngFor","ngForOf"],["for","categoryId"],["id","categoryId","formControlName","categoryId"],["for","notes"],["id","notes","formControlName","notes","type","string","placeholder","Note",1,"inputField"],["title","Show all Categories","type","checkbox",2,"margin-bottom","15px",3,"checked","change"],["type","submit",1,"button","block",3,"disabled"],["type","button",1,"button","block",3,"click"],[1,"newMonth"],["class","button block",3,"click",4,"ngIf"],[3,"value"]],template:function(t,r){1&t&&(Dt(0,XO,22,4,"div",0),Dt(1,sF,59,10,"div",1)),2&t&&(ge("ngIf","View"===r.mode&&!r.loading),oe(1),ge("ngIf",("Create"===r.mode||"Edit"===r.mode)&&!r.loading))},dependencies:[Ny,pc,Ry,od,bv,Cv,go,sd,wa,qc,Kc,Eo,Da,Vy,ky],styles:["table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid black}table[_ngcontent-%COMP%]{border-collapse:collapse;margin-bottom:10px}th[_ngcontent-%COMP%]{text-align:left}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}.create[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px}.button-in-grid-edit[_ngcontent-%COMP%]{background-color:#4caf50;background-color:#90ee90;border:1px solid black;color:#000;padding:10px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;font-weight:700;margin:0;border-radius:8px}.button-in-grid-delete[_ngcontent-%COMP%]{background-color:#4caf50;background-color:#ffb6c1;border:1px solid black;color:#000;padding:10px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;font-weight:700;margin:0;border-radius:8px}.button[_ngcontent-%COMP%]{background-color:#4caf50;background-color:#d3d3d3;border:1px solid black;color:#000;padding:10px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;font-weight:700;margin:10px 10px 10px 0;border-radius:8px}.newMonth[_ngcontent-%COMP%]{color:red;font-weight:700}"]}),e})();function lF(e,n){if(1&e&&Dn(0,"app-transaction",3),2&e){const t=ze();ge("session",t.session)("mode",t.mode)}}function uF(e,n){1&e&&Dn(0,"app-auth")}let cF=(()=>{class e{constructor(t){this.supabase=t,this.title="angular-user-management",this.session=this.supabase.session,this.mode="View"}ngOnInit(){this.supabase.authChanges((t,r)=>this.session=r),console.log("session",this.session?.user.id)}}return e.\u0275fac=function(t){return new(t||e)(w(Uc))},e.\u0275cmp=Po({type:e,selectors:[["app-root"]],decls:4,vars:2,consts:[[1,"container",2,"padding","5px 0 5px 0"],[3,"session","mode",4,"ngIf","ngIfElse"],["auth",""],[3,"session","mode"]],template:function(t,r){if(1&t&&(A(0,"div",0),Dt(1,lF,1,2,"app-transaction",1),Dt(2,uF,1,0,"ng-template",null,2,Sm),T()),2&t){const i=function Fp(e){return Cr(function hw(){return V.lFrame.contextLView}(),pe+e)}(3);oe(1),ge("ngIf",r.session)("ngIfElse",i)}},dependencies:[pc,YO,aF]}),e})(),dF=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=dn({type:e,bootstrap:[cF]}),e.\u0275inj=Ht({imports:[cx,KO,qO]}),e})();ux().bootstrapModule(dF).catch(e=>console.error(e))},472:function(ht,Ze){var be,we=typeof self<"u"?self:this,q=function(){function be(){this.fetch=!1,this.DOMException=we.DOMException}return be.prototype=we,new be}();be=q,function(Q){var Oe={searchParams:"URLSearchParams"in be,iterable:"Symbol"in be&&"iterator"in Symbol,blob:"FileReader"in be&&"Blob"in be&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in be,arrayBuffer:"ArrayBuffer"in be};if(Oe.arrayBuffer)var Co=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],rn=ArrayBuffer.isView||function(m){return m&&Co.indexOf(Object.prototype.toString.call(m))>-1};function $t(m){if("string"!=typeof m&&(m=String(m)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(m))throw new TypeError("Invalid character in header field name");return m.toLowerCase()}function hi(m){return"string"!=typeof m&&(m=String(m)),m}function pr(m){var E={next:function(){var G=m.shift();return{done:void 0===G,value:G}}};return Oe.iterable&&(E[Symbol.iterator]=function(){return E}),E}function Ee(m){this.map={},m instanceof Ee?m.forEach(function(E,G){this.append(G,E)},this):Array.isArray(m)?m.forEach(function(E){this.append(E[0],E[1])},this):m&&Object.getOwnPropertyNames(m).forEach(function(E){this.append(E,m[E])},this)}function pi(m){if(m.bodyUsed)return Promise.reject(new TypeError("Already read"));m.bodyUsed=!0}function So(m){return new Promise(function(E,G){m.onload=function(){E(m.result)},m.onerror=function(){G(m.error)}})}function gi(m){var E=new FileReader,G=So(E);return E.readAsArrayBuffer(m),G}function Io(m){if(m.slice)return m.slice(0);var E=new Uint8Array(m.byteLength);return E.set(new Uint8Array(m)),E.buffer}function mr(){return this.bodyUsed=!1,this._initBody=function(m){this._bodyInit=m,m?"string"==typeof m?this._bodyText=m:Oe.blob&&Blob.prototype.isPrototypeOf(m)?this._bodyBlob=m:Oe.formData&&FormData.prototype.isPrototypeOf(m)?this._bodyFormData=m:Oe.searchParams&&URLSearchParams.prototype.isPrototypeOf(m)?this._bodyText=m.toString():Oe.arrayBuffer&&Oe.blob&&function Tn(m){return m&&DataView.prototype.isPrototypeOf(m)}(m)?(this._bodyArrayBuffer=Io(m.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Oe.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(m)||rn(m))?this._bodyArrayBuffer=Io(m):this._bodyText=m=Object.prototype.toString.call(m):this._bodyText="",this.headers.get("content-type")||("string"==typeof m?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Oe.searchParams&&URLSearchParams.prototype.isPrototypeOf(m)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Oe.blob&&(this.blob=function(){var m=pi(this);if(m)return m;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?pi(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(gi)}),this.text=function(){var m=pi(this);if(m)return m;if(this._bodyBlob)return function on(m){var E=new FileReader,G=So(E);return E.readAsText(m),G}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function gr(m){for(var E=new Uint8Array(m),G=new Array(E.length),Fe=0;Fe<E.length;Fe++)G[Fe]=String.fromCharCode(E[Fe]);return G.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Oe.formData&&(this.formData=function(){return this.text().then(Kn)}),this.json=function(){return this.text().then(JSON.parse)},this}Ee.prototype.append=function(m,E){m=$t(m),E=hi(E);var G=this.map[m];this.map[m]=G?G+", "+E:E},Ee.prototype.delete=function(m){delete this.map[$t(m)]},Ee.prototype.get=function(m){return m=$t(m),this.has(m)?this.map[m]:null},Ee.prototype.has=function(m){return this.map.hasOwnProperty($t(m))},Ee.prototype.set=function(m,E){this.map[$t(m)]=hi(E)},Ee.prototype.forEach=function(m,E){for(var G in this.map)this.map.hasOwnProperty(G)&&m.call(E,this.map[G],G,this)},Ee.prototype.keys=function(){var m=[];return this.forEach(function(E,G){m.push(G)}),pr(m)},Ee.prototype.values=function(){var m=[];return this.forEach(function(E){m.push(E)}),pr(m)},Ee.prototype.entries=function(){var m=[];return this.forEach(function(E,G){m.push([G,E])}),pr(m)},Oe.iterable&&(Ee.prototype[Symbol.iterator]=Ee.prototype.entries);var ba=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function sn(m,E){var G=(E=E||{}).body;if(m instanceof sn){if(m.bodyUsed)throw new TypeError("Already read");this.url=m.url,this.credentials=m.credentials,E.headers||(this.headers=new Ee(m.headers)),this.method=m.method,this.mode=m.mode,this.signal=m.signal,!G&&null!=m._bodyInit&&(G=m._bodyInit,m.bodyUsed=!0)}else this.url=String(m);if(this.credentials=E.credentials||this.credentials||"same-origin",(E.headers||!this.headers)&&(this.headers=new Ee(E.headers)),this.method=function mi(m){var E=m.toUpperCase();return ba.indexOf(E)>-1?E:m}(E.method||this.method||"GET"),this.mode=E.mode||this.mode||null,this.signal=E.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&G)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(G)}function Kn(m){var E=new FormData;return m.trim().split("&").forEach(function(G){if(G){var Fe=G.split("="),Y=Fe.shift().replace(/\+/g," "),te=Fe.join("=").replace(/\+/g," ");E.append(decodeURIComponent(Y),decodeURIComponent(te))}}),E}function yr(m){var E=new Ee;return m.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(Fe){var Y=Fe.split(":"),te=Y.shift().trim();if(te){var _r=Y.join(":").trim();E.append(te,_r)}}),E}function wt(m,E){E||(E={}),this.type="default",this.status=void 0===E.status?200:E.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in E?E.statusText:"OK",this.headers=new Ee(E.headers),this.url=E.url||"",this._initBody(m)}sn.prototype.clone=function(){return new sn(this,{body:this._bodyInit})},mr.call(sn.prototype),mr.call(wt.prototype),wt.prototype.clone=function(){return new wt(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Ee(this.headers),url:this.url})},wt.error=function(){var m=new wt(null,{status:0,statusText:""});return m.type="error",m};var yi=[301,302,303,307,308];wt.redirect=function(m,E){if(-1===yi.indexOf(E))throw new RangeError("Invalid status code");return new wt(null,{status:E,headers:{location:m}})},Q.DOMException=be.DOMException;try{new Q.DOMException}catch{Q.DOMException=function(E,G){this.message=E,this.name=G;var Fe=Error(E);this.stack=Fe.stack},Q.DOMException.prototype=Object.create(Error.prototype),Q.DOMException.prototype.constructor=Q.DOMException}function _i(m,E){return new Promise(function(G,Fe){var Y=new sn(m,E);if(Y.signal&&Y.signal.aborted)return Fe(new Q.DOMException("Aborted","AbortError"));var te=new XMLHttpRequest;function _r(){te.abort()}te.onload=function(){var Yn={status:te.status,statusText:te.statusText,headers:yr(te.getAllResponseHeaders()||"")};Yn.url="responseURL"in te?te.responseURL:Yn.headers.get("X-Request-URL"),G(new wt("response"in te?te.response:te.responseText,Yn))},te.onerror=function(){Fe(new TypeError("Network request failed"))},te.ontimeout=function(){Fe(new TypeError("Network request failed"))},te.onabort=function(){Fe(new Q.DOMException("Aborted","AbortError"))},te.open(Y.method,Y.url,!0),"include"===Y.credentials?te.withCredentials=!0:"omit"===Y.credentials&&(te.withCredentials=!1),"responseType"in te&&Oe.blob&&(te.responseType="blob"),Y.headers.forEach(function(Yn,vi){te.setRequestHeader(vi,Yn)}),Y.signal&&(Y.signal.addEventListener("abort",_r),te.onreadystatechange=function(){4===te.readyState&&Y.signal.removeEventListener("abort",_r)}),te.send(typeof Y._bodyInit>"u"?null:Y._bodyInit)})}_i.polyfill=!0,be.fetch||(be.fetch=_i,be.Headers=Ee,be.Request=sn,be.Response=wt),Q.Headers=Ee,Q.Request=sn,Q.Response=wt,Q.fetch=_i,Object.defineProperty(Q,"__esModule",{value:!0})}({}),q.fetch.ponyfill=!0,delete q.fetch.polyfill;var Qe=q;(Ze=Qe.fetch).default=Qe.fetch,Ze.fetch=Qe.fetch,Ze.Headers=Qe.Headers,Ze.Request=Qe.Request,Ze.Response=Qe.Response,ht.exports=Ze},878:ht=>{var Ze=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};ht.exports=function(){if(this)return this;if("object"==typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return Ze()}try{return __global__||Ze()}finally{delete Object.prototype.__global__}}()},762:(ht,Ze,we)=>{var q;if("object"==typeof globalThis)q=globalThis;else try{q=we(878)}catch{}finally{if(!q&&typeof window<"u"&&(q=window),!q)throw new Error("Could not determine global this")}var Qe=q.WebSocket||q.MozWebSocket,be=we(386);function qn(Q,Oe){return Oe?new Qe(Q,Oe):new Qe(Q)}Qe&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(Q){Object.defineProperty(qn,Q,{get:function(){return Qe[Q]}})}),ht.exports={w3cwebsocket:Qe?qn:null,version:be}},386:(ht,Ze,we)=>{ht.exports=we(794).version},794:ht=>{"use strict";ht.exports={version:"1.0.34"}}},ht=>{ht(ht.s=287)}]);