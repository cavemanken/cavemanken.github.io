<!DOCTYPE html>
<html>
  <head>
    <title>Best Celestial Viewing Times</title>
  </head>
  <article id="content">
    <h2>Best Celestial Viewing Times</h2>
    <!--
    <p id="publicationDate">Published: <time>18 Apr 2022</time></p>
    -->

    <noscript>
      <div>
        You must enable JavaScript in your browser for this page to work
        correctly.
      </div>
    </noscript>

    <section id="pageContent">
      <p>
        Here is a tool for determining the best times in the upcoming 365 days
        to view any celestial object. Dates and times shown will be when the
        object is near its transit with no moonlight obscuring the view. All
        times listed should be accurate to within &plusmn; 10 minutes.
      </p>

      <form id="inputValues">
        <table>
          <tr>
            <th align="left">Start Date</th>
            <th align="left">Latitude/Longitude</th>
            <th align="left">Object Right Ascension</th>
            <th align="left">Object Declination</th>
          </tr>
          <tr>
            <td>
              <div class="inputs">
                <input
                  type="date"
                  id="date"
                  min="2000-01-01"
                  max="3000-01-01"
                  onchange="if (cv.validateInputs(false)) cv.generate();"
                />
              </div>
            </td>
            <td>
              <div class="inputs">
                <input
                  id="lat"
                  placeholder="Latitude"
                  required
                  pattern="(-|\+|)[0-9]+(\.[0-9]+)?"
                  onchange="cv.resetGrid()"
                />
                <input
                  id="lng"
                  placeholder="Longitude"
                  required
                  pattern="(-|\+|)[0-9]+(\.[0-9]+)?"
                  onchange="cv.resetGrid()"
                />
                <svg
                  id="location"
                  xmlns="http://www.w3.org/2000/svg"
                  width="12"
                  height="12"
                  viewBox="0 0 24 24"
                >
                  <path
                    onclick="cv.resetGrid()"
                    d="M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"
                  />
                </svg>
              </div>
            </td>
            <td>
              <div class="inputs">
                <input
                  id="raH"
                  placeholder="Hours"
                  required
                  pattern="[0-9]{1,2}"
                  onchange="cv.updateObjectDescriptionRaDec();cv.resetGrid()"
                />
                <input
                  id="raM"
                  placeholder="Minutes"
                  required
                  pattern="[0-9]{1,2}"
                  onchange="cv.updateObjectDescriptionRaDec();cv.resetGrid()"
                />
                <input
                  id="raS"
                  placeholder="Seconds"
                  required
                  pattern="[0-9]{1,2}"
                  onchange="cv.updateObjectDescriptionRaDec();cv.resetGrid()"
                />
              </div>
            </td>
            <td>
              <div class="inputs">
                <input
                  id="decD"
                  placeholder="Degrees"
                  required
                  pattern="(-|\+|)[0-9]{1,2}"
                  onchange="cv.updateObjectDescriptionRaDec();cv.resetGrid()"
                />
                <input
                  id="decM"
                  placeholder="Minutes"
                  required
                  pattern="[0-9]{1,2}"
                  onchange="cv.updateObjectDescriptionRaDec();cv.resetGrid()"
                />
                <input
                  id="decS"
                  placeholder="Seconds"
                  required
                  pattern="[0-9]{1,2}"
                  onchange="cv.updateObjectDescriptionRaDec();cv.resetGrid()"
                />
              </div>
            </td>
          </tr>
          <tr>
            <th align="left">Presets</th>
            <td>
              <div class="inputs">
                <ul
                  id="locationPresets"
                  onclick="if (cv.validateInputs(false)) cv.generate();"
                ></ul>
              </div>
            </td>
            <td colspan="2">
              <div class="inputs">
                <ul
                  id="objectPresets"
                  onclick="if (cv.validateInputs(false)) cv.generate();"
                ></ul>
              </div>
            </td>
          </tr>
        </table>

        <div class="row" style="visibility: hidden; height: 0mm">
          <button id="calc">Calculate</button>
          <button id="reset">Reset</button>
        </div>
      </form>

      <div id="output">
        <div id="outputData"></div>
      </div>
    </section>
    <button onclick="cv.generate();" style="font-size: 15px">
      Find Best Viewing Times
    </button>
    <text id="objectDescription"></text>
    <text id="locationDescription"></text>
    <div id="viewingTimes"></div>
  </article>

  <script type="text/javascript" src="astro.js"></script>
  <script type="text/javascript" src="SunCalc.js"></script>
  <script type="text/javascript" src="CelestialViewing.js"></script>

  <script></script>
  <style>
    #viewingTimes table {
      border-collapse: collapse;
      width: 100%;
    }

    #viewingTimes th,
    #viewingTimes td {
      text-align: center;
      padding: 4px;
      border: solid gray 1px;
    }

    #viewingTimes tr:nth-child(even) {
      background-color: lightgray;
    }
    #viewingTimes table thead {
      position: sticky;
    }
    #viewingTimes table thead {
      inset-block-start: -1px; /* "top" */
      background-color: white;
      border: solid gray 1px;
    }
    p {
      margin: 2px 0 2px 0;
    }
    button {
      background-color: lightgray;
      border: 1px solid black;
      color: black;
      padding: 10px 15px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 16px;
    }
  </style>
  <link
    rel="stylesheet"
    type="text/css"
    href="https://codebox.net/css/main.css"
  />

  <link
    rel="stylesheet"
    type="text/css"
    href="https://codebox.net/css/star-rise-and-set-time-calculator.css"
  />
</html>
